<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LakeMonitoR Examples • LakeMonitoR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="LakeMonitoR Examples">
<meta property="og:description" content="LakeMonitoR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">LakeMonitoR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0.9011</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/LakeMonitoR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/leppott/LakeMonitoR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="LakeMonitoR_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>LakeMonitoR Examples</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/leppott/LakeMonitoR/blob/HEAD/vignettes/LakeMonitoR.Rmd" class="external-link"><code>vignettes/LakeMonitoR.Rmd</code></a></small>
      <div class="hidden name"><code>LakeMonitoR.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="purpose">Purpose<a class="anchor" aria-label="anchor" href="#purpose"></a>
</h2>
<p>Show users how to use functions in <code>LakeMonitoR</code> and those from <code>rLakeAnalyzer</code>.</p>
<p>For rLakeAnalyzer examples, in most cases, are using examples provided by <code>rLakeAnalyzer</code>.</p>
</div>
<div class="section level2">
<h2 id="dates-and-times">Dates and Times<a class="anchor" aria-label="anchor" href="#dates-and-times"></a>
</h2>
<p>The core functions of <code>LakeMonitoR</code> assume a date, time, or datetime field that is correctly formated. R uses year-month-day and 24 hour time. The year is 4 digits and both month and day are 2 digit.</p>
<p>A helper function, <code>fun.DateFormat</code>, is provided to help discern the format of a date, time, or datetime field. Only the first record is examined and used to convert an entire column to the R standard format.</p>
<p>It is up to the user to implement the use of this function when using <code>LakeMonitoR</code> in the R console. In the included Shiny app the datetime field selected by the user is checked with the format helper function.</p>
<p>It is advised to use timezone “UTC” in all conversions as this timezone does not observe daylight saving time so there are no potential gaps or overlaps of times in the Spring or Fall.</p>
<p>One note of caution when using Excel to view data files. Excel can auto-fix fields and this can lead to a mix of formats in the same column. If a file is failing with the <code>LakeMonitoR</code> functions it could be a result of a mixture of good and bad date formats.</p>
<div class="section level3">
<h3 id="formats">Formats<a class="anchor" aria-label="anchor" href="#formats"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Date</span></span>
<span><span class="va">date1</span> <span class="op">&lt;-</span> <span class="st">"2022-11-05"</span></span>
<span><span class="va">date2</span> <span class="op">&lt;-</span> <span class="st">"11-05-2022"</span></span>
<span></span>
<span><span class="co"># Format</span></span>
<span><span class="va">format1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fun.DateTimeFormat.html">fun.DateTimeFormat</a></span><span class="op">(</span><span class="va">date1</span>, <span class="st">"date"</span><span class="op">)</span></span>
<span><span class="va">format2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fun.DateTimeFormat.html">fun.DateTimeFormat</a></span><span class="op">(</span><span class="va">date2</span>, <span class="st">"date"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert</span></span>
<span><span class="va">convert1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="va">date1</span>, format <span class="op">=</span> <span class="va">format1</span>, tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span></span>
<span><span class="va">convert2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="va">date2</span>, format <span class="op">=</span> <span class="va">format2</span>, tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display</span></span>
<span><span class="va">df_fix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">date1</span>, <span class="va">date2</span><span class="op">)</span></span>
<span>                     , format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">format1</span>, <span class="va">format2</span><span class="op">)</span></span>
<span>                     , convert <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">convert1</span>, <span class="va">convert2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df_fix</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    2 obs. of  3 variables:</span></span>
<span><span class="co">#&gt;  $ date   : chr  "2022-11-05" "11-05-2022"</span></span>
<span><span class="co">#&gt;  $ format : chr  "%Y-%m-%d" "%m-%d-%Y"</span></span>
<span><span class="co">#&gt;  $ convert: POSIXct, format: "2022-11-05" "2022-11-05"</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">df_fix</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">date</th>
<th align="left">format</th>
<th align="left">convert</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2022-11-05</td>
<td align="left">%Y-%m-%d</td>
<td align="left">2022-11-05</td>
</tr>
<tr class="even">
<td align="left">11-05-2022</td>
<td align="left">%m-%d-%Y</td>
<td align="left">2022-11-05</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h3>
<p>This example can be used when importing any data set to ensure no issues with other functions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data</span></span>
<span><span class="va">fn_data</span> <span class="op">&lt;-</span> <span class="st">"Ellis--1.0m_Water_20180524_20180918.csv"</span></span>
<span><span class="va">path_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"LakeMonitoR"</span><span class="op">)</span>, <span class="va">fn_data</span><span class="op">)</span></span>
<span><span class="va">df_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">path_data</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Change date format</span></span>
<span><span class="va">format1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fun.DateTimeFormat.html">fun.DateTimeFormat</a></span><span class="op">(</span><span class="va">df_data</span><span class="op">$</span><span class="va">Date.Time</span>, <span class="st">"datetime"</span><span class="op">)</span></span>
<span><span class="va">df_data</span><span class="op">$</span><span class="va">Date.Time2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="va">df_data</span><span class="op">$</span><span class="va">Date.Time</span></span>
<span>                                 , format <span class="op">=</span> <span class="va">format1</span></span>
<span>                                 , tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    2806 obs. of  9 variables:</span></span>
<span><span class="co">#&gt;  $ SiteID        : chr  "Ellis" "Ellis" "Ellis" "Ellis" ...</span></span>
<span><span class="co">#&gt;  $ Date          : chr  "2018-05-24" "2018-05-24" "2018-05-24" "2018-05-24" ...</span></span>
<span><span class="co">#&gt;  $ Time          : chr  "15:01:00" "16:01:00" "17:01:00" "18:01:00" ...</span></span>
<span><span class="co">#&gt;  $ Date.Time     : chr  "2018-05-24 15:01" "2018-05-24 16:01" "2018-05-24 17:01" "2018-05-24 18:01" ...</span></span>
<span><span class="co">#&gt;  $ Water.Temp.C  : num  16.5 16.7 16.6 16.7 16.6 ...</span></span>
<span><span class="co">#&gt;  $ Water.LoggerID: int  20312702 20312702 20312702 20312702 20312702 20312702 20312702 20312702 20312702 20312702 ...</span></span>
<span><span class="co">#&gt;  $ Water.RowID   : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">#&gt;  $ Depth_m       : int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">#&gt;  $ Date.Time2    : POSIXct, format: "2018-05-24 15:01:00" "2018-05-24 16:01:00" ...</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="lakemonitor">LakeMonitoR<a class="anchor" aria-label="anchor" href="#lakemonitor"></a>
</h2>
<div class="section level3">
<h3 id="agg_depth_files">agg_depth_files<a class="anchor" aria-label="anchor" href="#agg_depth_files"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data Files</span></span>
<span><span class="va">myFile_import</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Ellis--1.0m_Water_20180524_20180918.csv"</span></span>
<span>                  , <span class="st">"Ellis--3.0m_Water_20180524_20180918.csv"</span><span class="op">)</span></span>
<span><span class="va">myFile_export</span> <span class="op">&lt;-</span> <span class="st">"Ellis--Combined_Water_20180524_20180918.csv"</span></span>
<span><span class="va">myDir_import</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"LakeMonitoR"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">myDir_export</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/agg_depth_files.html">agg_depth_files</a></span><span class="op">(</span>filename_import <span class="op">=</span> <span class="va">myFile_import</span></span>
<span>                , filename_export <span class="op">=</span> <span class="va">myFile_export</span></span>
<span>                , dir_import <span class="op">=</span> <span class="va">myDir_import</span></span>
<span>                , dir_export <span class="op">=</span> <span class="va">myDir_export</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="daily_depth_means">daily_depth_means<a class="anchor" aria-label="anchor" href="#daily_depth_means"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/joshuaulrich/xts" class="external-link">xts</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: zoo</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'zoo'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     as.Date, as.Date.numeric</span></span>
<span></span>
<span><span class="co"># Lake Data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">laketemp</span></span>
<span></span>
<span><span class="co"># Filter by any QC fields</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">FlagV</span> <span class="op">==</span> <span class="st">"P"</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># name columns</span></span>
<span><span class="va">col_siteid</span>   <span class="op">&lt;-</span> <span class="st">"SiteID"</span></span>
<span><span class="va">col_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date_Time"</span></span>
<span><span class="va">col_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth_m"</span></span>
<span><span class="va">col_measure</span>  <span class="op">&lt;-</span> <span class="st">"Water_Temp_C"</span></span>
<span></span>
<span><span class="co"># run function</span></span>
<span><span class="va">data_ddm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/daily_depth_means.html">daily_depth_means</a></span><span class="op">(</span><span class="va">data</span></span>
<span>                             , <span class="va">col_siteid</span></span>
<span>                             , <span class="va">col_datetime</span></span>
<span>                             , <span class="va">col_depth</span></span>
<span>                             , <span class="va">col_measure</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># summary</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">data_ddm</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Date                Depth     Measurement     </span></span>
<span><span class="co">#&gt;  Min.   :2017-01-19   Min.   : 2   Min.   : 0.3707  </span></span>
<span><span class="co">#&gt;  1st Qu.:2017-04-18   1st Qu.: 8   1st Qu.: 2.0038  </span></span>
<span><span class="co">#&gt;  Median :2017-07-16   Median :15   Median : 4.8166  </span></span>
<span><span class="co">#&gt;  Mean   :2017-07-16   Mean   :15   Mean   : 6.1513  </span></span>
<span><span class="co">#&gt;  3rd Qu.:2017-10-13   3rd Qu.:22   3rd Qu.: 8.5071  </span></span>
<span><span class="co">#&gt;  Max.   :2018-01-10   Max.   :28   Max.   :22.0829</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="lake_summary_stats">lake_summary_stats<a class="anchor" aria-label="anchor" href="#lake_summary_stats"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">laketemp_ddm</span></span>
<span></span>
<span><span class="co"># Columns</span></span>
<span><span class="va">col_date</span>    <span class="op">&lt;-</span> <span class="st">"Date"</span></span>
<span><span class="va">col_depth</span>   <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_measure</span> <span class="op">&lt;-</span> <span class="st">"Measurement"</span></span>
<span><span class="va">below_threshold</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span></span>
<span><span class="co"># Calculate Stratification</span></span>
<span><span class="va">df_lss</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lake_summary_stats.html">lake_summary_stats</a></span><span class="op">(</span><span class="va">data</span></span>
<span>                            , <span class="va">col_date</span></span>
<span>                            , <span class="va">col_depth</span></span>
<span>                            , <span class="va">col_measure</span></span>
<span>                            , <span class="va">below_threshold</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df_lss</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 23</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   TimeFrame_Value, Depth [6]</span></span></span>
<span><span class="co">#&gt;   TimeFra…¹ TimeF…² Depth     n ndays  mean median   min   max range    sd   var</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> AllData   AllData     2   357   357  8.50   4.91 0.371  22.1  21.7  7.46  55.6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> AllData   AllData     3   357   357  8.49   4.93 0.413  22.0  21.6  7.39  54.6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> AllData   AllData     4   357   357  8.41   4.91 0.404  21.9  21.5  7.33  53.8</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> AllData   AllData     5   357   357  8.32   4.88 0.395  21.8  21.4  7.25  52.6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> AllData   AllData     6   357   357  8.20   4.86 0.389  20.9  20.5  7.12  50.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> AllData   AllData     7   357   357  8.02   4.87 0.401  19.9  19.5  6.89  47.5</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 11 more variables: cv &lt;dbl&gt;, q01 &lt;dbl&gt;, q05 &lt;dbl&gt;, q10 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   q25 &lt;dbl&gt;, q50 &lt;dbl&gt;, q75 &lt;dbl&gt;, q90 &lt;dbl&gt;, q95 &lt;dbl&gt;, q99 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   n_below_2 &lt;dbl&gt;, and abbreviated variable names ¹​TimeFrame_Name,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ²​TimeFrame_Value</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plot_depth">plot_depth<a class="anchor" aria-label="anchor" href="#plot_depth"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leppott/LakeMonitoR" class="external-link">LakeMonitoR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Data (Test Lake)</span></span>
<span><span class="va">data</span>         <span class="op">&lt;-</span> <span class="va">laketest</span></span>
<span></span>
<span><span class="co"># Column Names</span></span>
<span><span class="va">col_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date.Time"</span></span>
<span><span class="va">col_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_measure</span>  <span class="op">&lt;-</span> <span class="st">"temp_F"</span></span>
<span></span>
<span><span class="co"># Plot Labels</span></span>
<span><span class="va">lab_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date Time"</span></span>
<span><span class="va">lab_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth (m)"</span></span>
<span><span class="va">lab_measure</span>  <span class="op">&lt;-</span> <span class="st">"Temperature (F)"</span></span>
<span><span class="va">lab_title</span>    <span class="op">&lt;-</span> <span class="st">"Test Lake"</span></span>
<span></span>
<span><span class="co"># Create Plot</span></span>
<span><span class="va">p_profile</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_depth.html">plot_depth</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span></span>
<span>                        , col_datetime <span class="op">=</span> <span class="va">col_datetime</span></span>
<span>                        , col_depth <span class="op">=</span> <span class="va">col_depth</span></span>
<span>                        , col_measure <span class="op">=</span> <span class="va">col_measure</span></span>
<span>                        , lab_datetime <span class="op">=</span> <span class="va">lab_datetime</span></span>
<span>                        , lab_depth <span class="op">=</span> <span class="va">lab_depth</span></span>
<span>                        , lab_measure <span class="op">=</span> <span class="va">lab_measure</span></span>
<span>                        , lab_title <span class="op">=</span> <span class="va">lab_title</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print Plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p_profile</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/plot_depth-1.png" width="512"></p>
<p>The function is generic and can plot other variables if present.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data (Test Lake)</span></span>
<span><span class="va">data</span>         <span class="op">&lt;-</span> <span class="va">laketest</span></span>
<span></span>
<span><span class="co"># Column Names</span></span>
<span><span class="va">col_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date.Time"</span></span>
<span><span class="va">col_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_measure</span>  <span class="op">&lt;-</span> <span class="st">"DO_conc"</span></span>
<span></span>
<span><span class="co"># Plot Labels</span></span>
<span><span class="va">lab_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date Time"</span></span>
<span><span class="va">lab_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth (m)"</span></span>
<span><span class="va">lab_measure</span>  <span class="op">&lt;-</span> <span class="st">"Dissolved Oxygen (mg/L)"</span></span>
<span><span class="va">lab_title</span>    <span class="op">&lt;-</span> <span class="st">"Test Lake"</span></span>
<span></span>
<span><span class="co"># Create Plot</span></span>
<span><span class="va">p_profile2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_depth.html">plot_depth</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span></span>
<span>                        , col_datetime <span class="op">=</span> <span class="va">col_datetime</span></span>
<span>                        , col_depth <span class="op">=</span> <span class="va">col_depth</span></span>
<span>                        , col_measure <span class="op">=</span> <span class="va">col_measure</span></span>
<span>                        , lab_datetime <span class="op">=</span> <span class="va">lab_datetime</span></span>
<span>                        , lab_depth <span class="op">=</span> <span class="va">lab_depth</span></span>
<span>                        , lab_measure <span class="op">=</span> <span class="va">lab_measure</span></span>
<span>                        , lab_title <span class="op">=</span> <span class="va">lab_title</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print Plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p_profile2</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/plot_depth_do-1.png" width="512"></p>
</div>
<div class="section level3">
<h3 id="plot_heatmap">plot_heatmap<a class="anchor" aria-label="anchor" href="#plot_heatmap"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leppott/LakeMonitoR" class="external-link">LakeMonitoR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Data (Test Lake)</span></span>
<span><span class="va">data</span>         <span class="op">&lt;-</span> <span class="va">laketest</span></span>
<span></span>
<span><span class="co"># Column Names</span></span>
<span><span class="va">col_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date.Time"</span></span>
<span><span class="va">col_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_measure</span>  <span class="op">&lt;-</span> <span class="st">"temp_F"</span></span>
<span></span>
<span><span class="co"># Plot Labels</span></span>
<span><span class="va">lab_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date Time"</span></span>
<span><span class="va">lab_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth (m)"</span></span>
<span><span class="va">lab_measure</span>  <span class="op">&lt;-</span> <span class="st">"Temperature (F)"</span></span>
<span><span class="va">lab_title</span>    <span class="op">&lt;-</span> <span class="st">"Test Lake"</span></span>
<span><span class="va">line_val</span>     <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span></span>
<span><span class="co"># Create Plot</span></span>
<span><span class="va">p_hm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_heatmap.html">plot_heatmap</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span></span>
<span>                        , col_datetime <span class="op">=</span> <span class="va">col_datetime</span></span>
<span>                        , col_depth <span class="op">=</span> <span class="va">col_depth</span></span>
<span>                        , col_measure <span class="op">=</span> <span class="va">col_measure</span></span>
<span>                        , lab_datetime <span class="op">=</span> <span class="va">lab_datetime</span></span>
<span>                        , lab_depth <span class="op">=</span> <span class="va">lab_depth</span></span>
<span>                        , lab_measure <span class="op">=</span> <span class="va">lab_measure</span></span>
<span>                        , lab_title <span class="op">=</span> <span class="va">lab_title</span></span>
<span>                        , contours <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print Plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p_hm</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: The following aesthetics were dropped during statistical transformation: <span style="color: #00BB00;">fill</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> This can happen when ggplot fails to infer the correct grouping structure in</span></span>
<span><span class="co">#&gt;   the data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Did you forget to specify a `group` aesthetic or to convert a numerical</span></span>
<span><span class="co">#&gt;   variable into a factor?</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/plot_heatmap-1.png" width="512"></p>
</div>
<div class="section level3">
<h3 id="plot_ts">plot_ts<a class="anchor" aria-label="anchor" href="#plot_ts"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data (Test Lake)</span></span>
<span><span class="va">data</span>         <span class="op">&lt;-</span> <span class="va">laketest_wind</span></span>
<span></span>
<span><span class="co"># Column Names</span></span>
<span><span class="va">col_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date.Time"</span></span>
<span><span class="va">col_measure</span>  <span class="op">&lt;-</span> <span class="st">"WSPD"</span></span>
<span></span>
<span><span class="co"># Plot Labels</span></span>
<span><span class="va">lab_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date Time"</span></span>
<span><span class="va">lab_measure</span>  <span class="op">&lt;-</span> <span class="st">"Average Wind Speed (m/s)"</span></span>
<span><span class="va">lab_title</span>    <span class="op">&lt;-</span> <span class="st">"Test Lake"</span></span>
<span></span>
<span><span class="co"># Create Plot</span></span>
<span><span class="va">p_ts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_ts.html">plot_ts</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span></span>
<span>                , col_datetime <span class="op">=</span> <span class="va">col_datetime</span></span>
<span>                , col_measure <span class="op">=</span> <span class="va">col_measure</span></span>
<span>                , lab_datetime <span class="op">=</span> <span class="va">lab_datetime</span></span>
<span>                , lab_measure <span class="op">=</span> <span class="va">lab_measure</span></span>
<span>                , lab_title <span class="op">=</span> <span class="va">lab_title</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print Plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p_ts</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/plot_ts-1.png" width="512"></p>
</div>
<div class="section level3">
<h3 id="plot_oxythermal">plot_oxythermal<a class="anchor" aria-label="anchor" href="#plot_oxythermal"></a>
</h3>
<p>For oxythermal habitat for coldwater fish a plot that shows depths at which suitable oxythermal habitat exists during deployment period. The user can enter thresholds for temperature and dissolved oxygen.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data (Test Lake)</span></span>
<span><span class="va">data</span>         <span class="op">&lt;-</span> <span class="va">laketest</span></span>
<span></span>
<span><span class="co"># Column Names</span></span>
<span><span class="va">col_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date.Time"</span></span>
<span><span class="va">col_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_temp</span>     <span class="op">&lt;-</span> <span class="st">"temp_F"</span></span>
<span><span class="va">col_do</span>       <span class="op">&lt;-</span> <span class="st">"DO_conc"</span></span>
<span></span>
<span><span class="co"># Data values</span></span>
<span><span class="va">thresh_temp</span> <span class="op">&lt;-</span> <span class="fl">68</span></span>
<span><span class="va">operator_temp</span> <span class="op">&lt;-</span> <span class="st">"&lt;="</span></span>
<span><span class="va">thresh_do</span> <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span><span class="va">operator_do</span> <span class="op">&lt;-</span> <span class="st">"&gt;="</span></span>
<span></span>
<span><span class="co"># Plot Labels</span></span>
<span><span class="va">lab_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date Time"</span></span>
<span><span class="va">lab_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth (m)"</span></span>
<span><span class="va">lab_temp</span>     <span class="op">&lt;-</span> <span class="st">"Temp (F)"</span></span>
<span><span class="va">lab_title</span>    <span class="op">&lt;-</span> <span class="st">"Test Lake"</span></span>
<span></span>
<span><span class="co"># Create Plot</span></span>
<span><span class="va">p_ot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_oxythermal.html">plot_oxythermal</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span></span>
<span>                        , col_datetime <span class="op">=</span> <span class="va">col_datetime</span></span>
<span>                        , col_depth <span class="op">=</span> <span class="va">col_depth</span></span>
<span>                        , col_temp <span class="op">=</span> <span class="va">col_temp</span></span>
<span>                        , col_do <span class="op">=</span> <span class="va">col_do</span></span>
<span>                        , thresh_temp <span class="op">=</span> <span class="va">thresh_temp</span></span>
<span>                        , operator_temp<span class="op">=</span> <span class="va">operator_temp</span></span>
<span>                        , thresh_do <span class="op">=</span> <span class="va">thresh_do</span></span>
<span>                        , operator_do <span class="op">=</span> <span class="va">operator_do</span></span>
<span>                        , lab_datetime <span class="op">=</span> <span class="va">lab_datetime</span></span>
<span>                        , lab_depth <span class="op">=</span> <span class="va">lab_depth</span></span>
<span>                        , lab_temp <span class="op">=</span> <span class="va">lab_temp</span></span>
<span>                        , lab_title <span class="op">=</span> <span class="va">lab_title</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Add Subtitle and Caption</span></span>
<span><span class="va">myST</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Temp "</span>, <span class="va">operator_temp</span>, <span class="st">" "</span>, <span class="va">thresh_temp</span></span>
<span>             , <span class="st">" and DO "</span>, <span class="va">operator_do</span>, <span class="st">" "</span>, <span class="va">thresh_do</span><span class="op">)</span></span>
<span><span class="va">p_ot</span> <span class="op">&lt;-</span> <span class="va">p_ot</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="va">myST</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Gray = Areas outside of given temp and DO "</span></span>
<span>                , <span class="st">"values."</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p_ot</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/plot_oxythermal-1.png" width="512"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># For Comparison, heatmaps of Temperature and DO</span></span>
<span></span>
<span><span class="co"># heat map, Temp</span></span>
<span><span class="va">p_hm_temp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_heatmap.html">plot_heatmap</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span></span>
<span>                    , col_datetime <span class="op">=</span> <span class="va">col_datetime</span></span>
<span>                    , col_depth <span class="op">=</span> <span class="va">col_depth</span></span>
<span>                    , col_measure <span class="op">=</span> <span class="va">col_temp</span></span>
<span>                    , lab_datetime <span class="op">=</span> <span class="va">lab_datetime</span></span>
<span>                    , lab_depth <span class="op">=</span> <span class="va">lab_depth</span></span>
<span>                    , lab_measure <span class="op">=</span> <span class="va">lab_temp</span></span>
<span>                    , lab_title <span class="op">=</span> <span class="va">lab_title</span></span>
<span>                    , contours <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p_hm_temp</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/plot_oxythermal-2.png" width="512"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># heat map, DO</span></span>
<span><span class="va">p_hm_do</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_heatmap.html">plot_heatmap</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span></span>
<span>                         , col_datetime <span class="op">=</span> <span class="va">col_datetime</span></span>
<span>                         , col_depth <span class="op">=</span> <span class="va">col_depth</span></span>
<span>                         , col_measure <span class="op">=</span> <span class="va">col_do</span></span>
<span>                         , lab_datetime <span class="op">=</span> <span class="va">lab_datetime</span></span>
<span>                         , lab_depth <span class="op">=</span> <span class="va">lab_depth</span></span>
<span>                         , lab_measure <span class="op">=</span> <span class="st">"DO (mg/L)"</span></span>
<span>                         , lab_title <span class="op">=</span> <span class="va">lab_title</span></span>
<span>                         , contours <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p_hm_do</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/plot_oxythermal-3.png" width="512"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Plot, Combine all 3</span></span>
<span><span class="fu">gridExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span><span class="va">p_ot</span>, <span class="va">p_hm_temp</span>, <span class="va">p_hm_do</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/plot_oxythermal-4.png" width="512"></p>
</div>
<div class="section level3">
<h3 id="combining-plots">Combining Plots<a class="anchor" aria-label="anchor" href="#combining-plots"></a>
</h3>
<p>The shiny app combines the depth plot with the heat map and saves it to the Results folder. Combining the plots is not a default feature of the package but can be done with the use of the <code>gridExtra</code> package.</p>
<p>Move legends to the bottom and remove titles to get more space.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leppott/LakeMonitoR" class="external-link">LakeMonitoR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Data (Test Lake)</span></span>
<span><span class="va">data</span>         <span class="op">&lt;-</span> <span class="va">laketest</span></span>
<span></span>
<span><span class="co"># depth----</span></span>
<span><span class="co"># Column Names</span></span>
<span><span class="va">col_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date.Time"</span></span>
<span><span class="va">col_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_measure</span>  <span class="op">&lt;-</span> <span class="st">"DO_conc"</span></span>
<span></span>
<span><span class="co"># Plot Labels</span></span>
<span><span class="va">lab_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date Time"</span></span>
<span><span class="va">lab_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth (m)"</span></span>
<span><span class="va">lab_measure</span>  <span class="op">&lt;-</span> <span class="st">"Dissolved Oxygen (mg/L)"</span></span>
<span><span class="va">lab_title</span>    <span class="op">&lt;-</span> <span class="st">"Test Lake"</span></span>
<span></span>
<span><span class="co"># Create Plot</span></span>
<span><span class="va">p_profile</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_depth.html">plot_depth</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span></span>
<span>                        , col_datetime <span class="op">=</span> <span class="va">col_datetime</span></span>
<span>                        , col_depth <span class="op">=</span> <span class="va">col_depth</span></span>
<span>                        , col_measure <span class="op">=</span> <span class="va">col_measure</span></span>
<span>                        , lab_datetime <span class="op">=</span> <span class="va">lab_datetime</span></span>
<span>                        , lab_depth <span class="op">=</span> <span class="va">lab_depth</span></span>
<span>                        , lab_measure <span class="op">=</span> <span class="va">lab_measure</span></span>
<span>                        , lab_title <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># heat map----</span></span>
<span><span class="co"># Data (Test Lake)</span></span>
<span><span class="va">data</span>         <span class="op">&lt;-</span> <span class="va">laketest</span></span>
<span></span>
<span><span class="co"># Column Names</span></span>
<span><span class="va">col_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date.Time"</span></span>
<span><span class="va">col_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_measure</span>  <span class="op">&lt;-</span> <span class="st">"temp_F"</span></span>
<span></span>
<span><span class="co"># Plot Labels</span></span>
<span><span class="va">lab_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date Time"</span></span>
<span><span class="va">lab_depth</span>    <span class="op">&lt;-</span> <span class="st">"Depth (m)"</span></span>
<span><span class="va">lab_measure</span>  <span class="op">&lt;-</span> <span class="st">"Temperature (F)"</span></span>
<span><span class="va">lab_title</span>    <span class="op">&lt;-</span> <span class="st">"Test Lake"</span></span>
<span><span class="va">line_val</span>     <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span></span>
<span><span class="co"># Create Plot----</span></span>
<span><span class="va">p_hm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_heatmap.html">plot_heatmap</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span></span>
<span>                        , col_datetime <span class="op">=</span> <span class="va">col_datetime</span></span>
<span>                        , col_depth <span class="op">=</span> <span class="va">col_depth</span></span>
<span>                        , col_measure <span class="op">=</span> <span class="va">col_measure</span></span>
<span>                        , lab_datetime <span class="op">=</span> <span class="va">lab_datetime</span></span>
<span>                        , lab_depth <span class="op">=</span> <span class="va">lab_depth</span></span>
<span>                        , lab_measure <span class="op">=</span> <span class="va">lab_measure</span></span>
<span>                        , lab_title <span class="op">=</span> <span class="cn">NA</span></span>
<span>                        , contours <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Change legend location</span></span>
<span><span class="va">p_profile</span> <span class="op">&lt;-</span> <span class="va">p_profile</span> <span class="op">+</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">2</span></span>
<span>                      , color <span class="op">=</span> <span class="st">"red"</span></span>
<span>                      , linetype <span class="op">=</span> <span class="st">"dashed"</span></span>
<span>                      , size <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please use `linewidth` instead.</span></span>
<span><span class="va">p_hm</span> <span class="op">&lt;-</span> <span class="va">p_hm</span> <span class="op">+</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># # plot, Wind</span></span>
<span><span class="va">p_ts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_ts.html">plot_ts</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">laketest_wind</span></span>
<span>                , col_datetime <span class="op">=</span> <span class="va">col_datetime</span></span>
<span>                , col_measure <span class="op">=</span> <span class="st">"WSPD"</span></span>
<span>                , lab_datetime <span class="op">=</span> <span class="va">lab_datetime</span></span>
<span>                , lab_measure <span class="op">=</span> <span class="st">"Average Wind (m/s)"</span></span>
<span>                , lab_title <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Combine 2</span></span>
<span><span class="va">p_combo_2</span> <span class="op">&lt;-</span> <span class="fu">gridExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span><span class="va">p_hm</span>, <span class="va">p_profile</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: The following aesthetics were dropped during statistical transformation: <span style="color: #00BB00;">fill</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> This can happen when ggplot fails to infer the correct grouping structure in</span></span>
<span><span class="co">#&gt;   the data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Did you forget to specify a `group` aesthetic or to convert a numerical</span></span>
<span><span class="co">#&gt;   variable into a factor?</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/plot_combine-1.png" width="512"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Combine 3</span></span>
<span><span class="va">p_combo_3</span> <span class="op">&lt;-</span> <span class="fu">gridExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span><span class="va">p_hm</span>, <span class="va">p_profile</span>, <span class="va">p_ts</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: The following aesthetics were dropped during statistical transformation: <span style="color: #00BB00;">fill</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> This can happen when ggplot fails to infer the correct grouping structure in</span></span>
<span><span class="co">#&gt;   the data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Did you forget to specify a `group` aesthetic or to convert a numerical</span></span>
<span><span class="co">#&gt;   variable into a factor?</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/plot_combine-2.png" width="512"></p>
</div>
<div class="section level3">
<h3 id="stratification">stratification<a class="anchor" aria-label="anchor" href="#stratification"></a>
</h3>
<p>Stratification is calculated as greater than or equal to a 1 degree C difference over 1-m. <strong>Unless</strong> there are only 2 measurements then stratification is calculated as greater than or equal to a 1 degree C difference (i.e., depth is not considered).</p>
<p>The example below calculates stratification on the entire data set and then again with only the top and bottom measurements. Using only the top and bottom measurements results in more days of stratification and has 1 more event.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leppott/LakeMonitoR" class="external-link">LakeMonitoR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Example 1, entire data set</span></span>
<span></span>
<span><span class="co"># data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">laketemp_ddm</span></span>
<span></span>
<span><span class="co"># Columns</span></span>
<span><span class="va">col_date</span>    <span class="op">&lt;-</span> <span class="st">"Date"</span></span>
<span><span class="va">col_depth</span>   <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_measure</span> <span class="op">&lt;-</span> <span class="st">"Measurement"</span></span>
<span></span>
<span><span class="co"># Calculate Stratification</span></span>
<span><span class="va">ls_strat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/stratification.html">stratification</a></span><span class="op">(</span><span class="va">data</span></span>
<span>                           , <span class="va">col_date</span></span>
<span>                           , <span class="va">col_depth</span></span>
<span>                           , <span class="va">col_measure</span></span>
<span>                           , min_days <span class="op">=</span> <span class="fl">1</span> <span class="op">)</span></span>
<span><span class="co">#&gt; Warning in stratification(data, col_date, col_depth, col_measure, min_days = 1):</span></span>
<span><span class="co">#&gt; NAs introduced by coercion</span></span>
<span></span>
<span><span class="co"># Results, Stratification Dates</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ls_strat</span><span class="op">$</span><span class="va">Stratification_Dates</span><span class="op">)</span></span>
<span><span class="co">#&gt;         Date Stratified_1</span></span>
<span><span class="co">#&gt; 1 2017-01-19        FALSE</span></span>
<span><span class="co">#&gt; 2 2017-01-20        FALSE</span></span>
<span><span class="co">#&gt; 3 2017-01-21        FALSE</span></span>
<span><span class="co">#&gt; 4 2017-01-22        FALSE</span></span>
<span><span class="co">#&gt; 5 2017-01-23        FALSE</span></span>
<span><span class="co">#&gt; 6 2017-01-24        FALSE</span></span>
<span></span>
<span><span class="co"># Results, Stratification Events</span></span>
<span><span class="va">ls_strat</span><span class="op">$</span><span class="va">Stratification_Events</span></span>
<span><span class="co">#&gt;   Start_Date   End_Date Year Time_Span</span></span>
<span><span class="co">#&gt; 1 2017-06-05 2017-10-16 2017  133 days</span></span>
<span></span>
<span><span class="co"># Results, Stratification Plot</span></span>
<span><span class="va">p_strat</span> <span class="op">&lt;-</span> <span class="va">ls_strat</span><span class="op">$</span><span class="va">Stratification_Plot</span></span>
<span><span class="va">p_strat</span> <span class="op">&lt;-</span> <span class="va">p_strat</span> <span class="op">+</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Stratification &gt;= "</span></span>
<span>                                           , <span class="st">"1 deg C difference over 1-m"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p_strat</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/stratification-1.png" width="512"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#~~~~~~~~~~~~</span></span>
<span></span>
<span><span class="co">## Example 2, only top and bottom measurement</span></span>
<span></span>
<span><span class="co"># data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">laketemp_ddm</span></span>
<span><span class="va">min_depth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>, <span class="va">col_depth</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">max_depth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>, <span class="va">col_depth</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">data_tb</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="va">data</span><span class="op">[</span>, <span class="va">col_depth</span><span class="op">]</span> <span class="op">==</span> <span class="va">min_depth</span> <span class="op">|</span></span>
<span>             <span class="va">data</span><span class="op">[</span>, <span class="va">col_depth</span><span class="op">]</span> <span class="op">==</span> <span class="va">max_depth</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Columns</span></span>
<span><span class="va">col_date</span>    <span class="op">&lt;-</span> <span class="st">"Date"</span></span>
<span><span class="va">col_depth</span>   <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_measure</span> <span class="op">&lt;-</span> <span class="st">"Measurement"</span></span>
<span></span>
<span><span class="co"># Calculate Stratification</span></span>
<span><span class="va">ls_strat_tb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/stratification.html">stratification</a></span><span class="op">(</span><span class="va">data_tb</span></span>
<span>                             , <span class="va">col_date</span></span>
<span>                             , <span class="va">col_depth</span></span>
<span>                             , <span class="va">col_measure</span></span>
<span>                             , min_days <span class="op">=</span> <span class="fl">1</span> <span class="op">)</span></span>
<span><span class="co">#&gt; Warning in stratification(data_tb, col_date, col_depth, col_measure, min_days =</span></span>
<span><span class="co">#&gt; 1): NAs introduced by coercion</span></span>
<span><span class="co"># Results, Stratification Dates</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ls_strat_tb</span><span class="op">$</span><span class="va">Stratification_Dates</span><span class="op">)</span></span>
<span><span class="co">#&gt;         Date Stratified_1</span></span>
<span><span class="co">#&gt; 1 2017-01-19        FALSE</span></span>
<span><span class="co">#&gt; 2 2017-01-20        FALSE</span></span>
<span><span class="co">#&gt; 3 2017-01-21        FALSE</span></span>
<span><span class="co">#&gt; 4 2017-01-22        FALSE</span></span>
<span><span class="co">#&gt; 5 2017-01-23        FALSE</span></span>
<span><span class="co">#&gt; 6 2017-01-24        FALSE</span></span>
<span></span>
<span><span class="co"># Results, Stratification Events</span></span>
<span><span class="va">ls_strat_tb</span><span class="op">$</span><span class="va">Stratification_Events</span></span>
<span><span class="co">#&gt;   Start_Date   End_Date Year Time_Span</span></span>
<span><span class="co">#&gt; 1 2017-05-14 2017-05-20 2017    6 days</span></span>
<span><span class="co">#&gt; 2 2017-05-24 2017-10-25 2017  154 days</span></span>
<span></span>
<span><span class="co"># Results, Stratification Plot</span></span>
<span><span class="va">p_strat_tb</span> <span class="op">&lt;-</span> <span class="va">ls_strat_tb</span><span class="op">$</span><span class="va">Stratification_Plot</span></span>
<span><span class="va">p_strat_tb</span> <span class="op">&lt;-</span> <span class="va">p_strat_tb</span> <span class="op">+</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Stratification &gt;="</span></span>
<span>                                          , <span class="st">" 1 deg C (only 2 depths)"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p_strat_tb</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/stratification-2.png" width="512"> ## TDOx Temperature at Dissolved Oxygen x value.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">laketest</span></span>
<span></span>
<span><span class="co"># Columns</span></span>
<span><span class="va">col_date</span>  <span class="op">&lt;-</span> <span class="st">"Date.Time"</span></span>
<span><span class="va">col_depth</span> <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_temp</span>  <span class="op">&lt;-</span> <span class="st">"temp_F"</span></span>
<span><span class="va">col_do</span>    <span class="op">&lt;-</span> <span class="st">"DO_conc"</span></span>
<span><span class="va">do_x_val</span>  <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span></span>
<span><span class="va">tdox_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tdox.html">tdox</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span></span>
<span>               , col_date <span class="op">=</span> <span class="va">col_date</span></span>
<span>               , col_depth <span class="op">=</span> <span class="va">col_depth</span></span>
<span>               , col_temp <span class="op">=</span> <span class="va">col_temp</span></span>
<span>               , col_do <span class="op">=</span> <span class="va">col_do</span></span>
<span>               , do_x_val <span class="op">=</span> <span class="va">do_x_val</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">tdox_3</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 6</span></span></span>
<span><span class="co">#&gt;   TimeFrame_Name TimeFrame_Value TDO_x_value   min  mean   max</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Year           2018                      3  50.9  59.9  64.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Date           2018-07-02                3  52.6  52.6  52.6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Date           2018-07-03                3  53.5  53.5  53.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Date           2018-07-04                3  53.7  53.7  53.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Date           2018-07-05                3  54.4  54.4  54.4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Date           2018-07-06                3  54.8  54.8  54.8</span></span></code></pre></div>
<p>Example plot of a single depth using base R graphics.</p>
<p>Temperature is in black and Dissolved Oxygen is in blue.</p>
<p>Dotted lines are DO = 3 and Temperature = 53.7 (TDO3 value).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">laketest</span></span>
<span></span>
<span><span class="co"># Columns</span></span>
<span><span class="va">col_date</span>  <span class="op">&lt;-</span> <span class="st">"Date.Time"</span></span>
<span><span class="va">col_depth</span> <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_temp</span>  <span class="op">&lt;-</span> <span class="st">"temp_F"</span></span>
<span><span class="va">col_do</span>    <span class="op">&lt;-</span> <span class="st">"DO_conc"</span></span>
<span><span class="va">do_x_val</span>  <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span></span>
<span><span class="va">df_plot</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="va">data</span><span class="op">[</span>, <span class="st">"Date.Time"</span><span class="op">]</span> <span class="op">==</span> <span class="st">"2018-07-03 12:00"</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">tdox_3_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tdox.html">tdox</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_plot</span></span>
<span>                    , col_date <span class="op">=</span> <span class="va">col_date</span></span>
<span>                    , col_depth <span class="op">=</span> <span class="va">col_depth</span></span>
<span>                    , col_temp <span class="op">=</span> <span class="va">col_temp</span></span>
<span>                    , col_do <span class="op">=</span> <span class="va">col_do</span></span>
<span>                    , do_x_val <span class="op">=</span> <span class="va">do_x_val</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">tdox_3_plot</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">TimeFrame_Name</th>
<th align="left">TimeFrame_Value</th>
<th align="right">TDO_x_value</th>
<th align="right">min</th>
<th align="right">mean</th>
<th align="right">max</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Year</td>
<td align="left">2018</td>
<td align="right">3</td>
<td align="right">53.6602</td>
<td align="right">53.6602</td>
<td align="right">53.6602</td>
</tr>
<tr class="even">
<td align="left">Date</td>
<td align="left">2018-07-03</td>
<td align="right">3</td>
<td align="right">53.6602</td>
<td align="right">53.6602</td>
<td align="right">53.6602</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Plot</span></span>
<span><span class="co">## Temp, x-bottom, circles</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">df_plot</span><span class="op">$</span><span class="va">temp_F</span>, <span class="va">df_plot</span><span class="op">$</span><span class="va">Depth</span>, col <span class="op">=</span> <span class="st">"black"</span></span>
<span>     , ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">df_plot</span><span class="op">$</span><span class="va">Depth</span><span class="op">)</span><span class="op">)</span></span>
<span>     , xlab <span class="op">=</span> <span class="st">"Temperature (F)"</span>, ylab <span class="op">=</span> <span class="st">"Depth (m)"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">df_plot</span><span class="op">$</span><span class="va">temp_F</span>, <span class="va">df_plot</span><span class="op">$</span><span class="va">Depth</span>, col <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/abline.html" class="external-link">abline</a></span><span class="op">(</span>v <span class="op">=</span> <span class="fl">53.66</span>, col <span class="op">=</span> <span class="st">"black"</span>, lty <span class="op">=</span> <span class="fl">3</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">## plot on top of existing plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>new<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## Add DO</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">df_plot</span><span class="op">$</span><span class="va">DO_conc</span>, <span class="va">df_plot</span><span class="op">$</span><span class="va">Depth</span>, col <span class="op">=</span> <span class="st">"blue"</span>, pch <span class="op">=</span> <span class="fl">17</span></span>
<span>     , ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">df_plot</span><span class="op">$</span><span class="va">Depth</span><span class="op">)</span><span class="op">)</span></span>
<span>     , xaxt <span class="op">=</span> <span class="st">"n"</span>, yaxt <span class="op">=</span> <span class="st">"n"</span>, xlab <span class="op">=</span> <span class="cn">NA</span>, ylab <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">df_plot</span><span class="op">$</span><span class="va">DO_conc</span>, <span class="va">df_plot</span><span class="op">$</span><span class="va">Depth</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/axis.html" class="external-link">axis</a></span><span class="op">(</span>side <span class="op">=</span> <span class="fl">3</span>, col.axis <span class="op">=</span> <span class="st">"blue"</span>, col.lab <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="st">"Dissolved Oxygen (mg/L)"</span>, side <span class="op">=</span> <span class="fl">3</span>, line <span class="op">=</span> <span class="fl">3</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/abline.html" class="external-link">abline</a></span><span class="op">(</span>v <span class="op">=</span> <span class="fl">3</span>, col <span class="op">=</span> <span class="st">"blue"</span>, lty <span class="op">=</span> <span class="fl">3</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">## Legend</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"bottomright"</span></span>
<span>      , <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Temperature"</span>, <span class="st">"Temp = 53.66 @ DO = 3"</span>, <span class="st">"Dissolved Oxygen"</span>, <span class="st">"DO = 3"</span><span class="op">)</span></span>
<span>      , col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"black"</span>, <span class="st">"blue"</span>, <span class="st">"blue"</span><span class="op">)</span></span>
<span>      , pch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">21</span>, <span class="cn">NA</span>, <span class="fl">17</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span>      , lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span></span>
<span>      , lwd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/plot_TDO3-1.png" width="512"></p>
</div>
<div class="section level3">
<h3 id="export_rlakeanalyzer">export_rLakeAnalyzer<a class="anchor" aria-label="anchor" href="#export_rlakeanalyzer"></a>
</h3>
<p>Reorganize file for use with <code>rLakeAnalyzer</code> package.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leppott/LakeMonitoR" class="external-link">LakeMonitoR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert Data for use with rLakeAnalyzer</span></span>
<span></span>
<span><span class="co"># Data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">laketemp_ddm</span></span>
<span></span>
<span><span class="co"># Columns, date listed first</span></span>
<span><span class="va">col_depth</span> <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"Measurement"</span><span class="op">)</span></span>
<span><span class="va">col_rLA</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"datetime"</span>, <span class="st">"wtr"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run function</span></span>
<span><span class="va">df_rLA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/export_rLakeAnalyzer.html">export_rLakeAnalyzer</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">col_depth</span>, <span class="va">col_data</span>, <span class="va">col_rLA</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df_rLA</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    357 obs. of  28 variables:</span></span>
<span><span class="co">#&gt;  $ datetime: Date, format: "2017-01-19" "2017-01-20" ...</span></span>
<span><span class="co">#&gt;  $ wtr_2   : num  0.961 0.967 0.973 0.973 0.969 ...</span></span>
<span><span class="co">#&gt;  $ wtr_3   : num  1.07 1.08 1.08 1.09 1.1 ...</span></span>
<span><span class="co">#&gt;  $ wtr_4   : num  1.1 1.1 1.1 1.11 1.12 ...</span></span>
<span><span class="co">#&gt;  $ wtr_5   : num  1.14 1.14 1.14 1.15 1.16 ...</span></span>
<span><span class="co">#&gt;  $ wtr_6   : num  1.18 1.19 1.19 1.2 1.21 ...</span></span>
<span><span class="co">#&gt;  $ wtr_7   : num  1.25 1.25 1.26 1.27 1.27 ...</span></span>
<span><span class="co">#&gt;  $ wtr_8   : num  1.33 1.34 1.34 1.35 1.35 ...</span></span>
<span><span class="co">#&gt;  $ wtr_9   : num  1.4 1.41 1.42 1.42 1.42 ...</span></span>
<span><span class="co">#&gt;  $ wtr_10  : num  1.45 1.46 1.46 1.47 1.47 ...</span></span>
<span><span class="co">#&gt;  $ wtr_11  : num  1.48 1.49 1.49 1.5 1.52 ...</span></span>
<span><span class="co">#&gt;  $ wtr_12  : num  1.56 1.57 1.58 1.59 1.61 ...</span></span>
<span><span class="co">#&gt;  $ wtr_13  : num  1.65 1.66 1.69 1.69 1.71 ...</span></span>
<span><span class="co">#&gt;  $ wtr_14  : num  1.71 1.72 1.75 1.75 1.76 ...</span></span>
<span><span class="co">#&gt;  $ wtr_15  : num  1.74 1.76 1.78 1.78 1.79 ...</span></span>
<span><span class="co">#&gt;  $ wtr_16  : num  1.75 1.77 1.78 1.78 1.8 ...</span></span>
<span><span class="co">#&gt;  $ wtr_17  : num  1.79 1.8 1.8 1.81 1.83 ...</span></span>
<span><span class="co">#&gt;  $ wtr_18  : num  1.85 1.86 1.86 1.87 1.88 ...</span></span>
<span><span class="co">#&gt;  $ wtr_19  : num  1.9 1.9 1.9 1.91 1.91 ...</span></span>
<span><span class="co">#&gt;  $ wtr_20  : num  1.93 1.93 1.93 1.93 1.93 ...</span></span>
<span><span class="co">#&gt;  $ wtr_21  : num  1.91 1.91 1.91 1.91 1.91 ...</span></span>
<span><span class="co">#&gt;  $ wtr_22  : num  1.86 1.86 1.86 1.86 1.86 ...</span></span>
<span><span class="co">#&gt;  $ wtr_23  : num  1.91 1.91 1.91 1.91 1.91 ...</span></span>
<span><span class="co">#&gt;  $ wtr_24  : num  2.06 2.07 2.07 2.07 2.08 ...</span></span>
<span><span class="co">#&gt;  $ wtr_25  : num  2.16 2.18 2.18 2.18 2.19 ...</span></span>
<span><span class="co">#&gt;  $ wtr_26  : num  2.22 2.23 2.24 2.24 2.25 ...</span></span>
<span><span class="co">#&gt;  $ wtr_27  : num  2.33 2.35 2.35 2.36 2.37 ...</span></span>
<span><span class="co">#&gt;  $ wtr_28  : num  2.5 2.51 2.52 2.54 2.55 ...</span></span>
<span></span>
<span><span class="co">## Not run: </span></span>
<span><span class="co"># Save</span></span>
<span><span class="co">#write.csv(df_rLA, file.path(tempdir(), "example_rLA.csv"), row.names = FALSE)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="rlakeanalyzer">rLakeAnalyzer<a class="anchor" aria-label="anchor" href="#rlakeanalyzer"></a>
</h2>
<p>After exporting file format for <code>rLakeAnalyzer</code> can use the functions from that package.</p>
<div class="section level3">
<h3 id="help">Help<a class="anchor" aria-label="anchor" href="#help"></a>
</h3>
<pre><code><span><span class="co">#&gt; approx.bathy : function (Zmax, lkeArea, Zmean = NULL, method = "cone", zinterval = 1, </span></span>
<span><span class="co">#&gt;     depths = seq(0, Zmax, by = zinterval))  </span></span>
<span><span class="co">#&gt; buoyancy.freq : function (wtr, depths)  </span></span>
<span><span class="co">#&gt; center.buoyancy : function (wtr, depths)  </span></span>
<span><span class="co">#&gt; depth.filter : function (z0, run_length = 20, index = FALSE)  </span></span>
<span><span class="co">#&gt; epi.temperature : function (wtr, depths, bthA, bthD)  </span></span>
<span><span class="co">#&gt; get.offsets : function (data)  </span></span>
<span><span class="co">#&gt; hypo.temperature : function (wtr, depths, bthA, bthD)  </span></span>
<span><span class="co">#&gt; internal.energy : function (wtr, depths, bthA, bthD)  </span></span>
<span><span class="co">#&gt; lake.number : function (bthA, bthD, uStar, St, metaT, metaB, averageHypoDense)  </span></span>
<span><span class="co">#&gt; lake.number.plot : function (wtr, wnd, wh, bth)  </span></span>
<span><span class="co">#&gt; layer.density : function (top, bottom, wtr, depths, bthA, bthD, sal = wtr * 0)  </span></span>
<span><span class="co">#&gt; layer.temperature : function (top, bottom, wtr, depths, bthA, bthD)  </span></span>
<span><span class="co">#&gt; load.bathy : function (fPath)  </span></span>
<span><span class="co">#&gt; load.ts : function (fPath, tz = "GMT")  </span></span>
<span><span class="co">#&gt; meta.depths : function (wtr, depths, slope = 0.1, seasonal = TRUE, mixed.cutoff = 1)  </span></span>
<span><span class="co">#&gt; schmidt.plot : function (wtr, bth)  </span></span>
<span><span class="co">#&gt; schmidt.stability : function (wtr, depths, bthA, bthD, sal = 0)  </span></span>
<span><span class="co">#&gt; thermo.depth : function (wtr, depths, Smin = 0.1, seasonal = TRUE, index = FALSE, mixed.cutoff = 1)  </span></span>
<span><span class="co">#&gt; ts.buoyancy.freq : function (wtr, at.thermo = TRUE, na.rm = FALSE, ...)  </span></span>
<span><span class="co">#&gt; ts.center.buoyancy : function (wtr, na.rm = FALSE)  </span></span>
<span><span class="co">#&gt; ts.internal.energy : function (wtr, bathy, na.rm = FALSE)  </span></span>
<span><span class="co">#&gt; ts.lake.number : function (wtr, wnd, wnd.height, bathy, seasonal = TRUE)  </span></span>
<span><span class="co">#&gt; ts.layer.temperature : function (wtr, top, bottom, bathy, na.rm = FALSE)  </span></span>
<span><span class="co">#&gt; ts.meta.depths : function (wtr, slope = 0.1, na.rm = FALSE, ...)  </span></span>
<span><span class="co">#&gt; ts.schmidt.stability : function (wtr, bathy, na.rm = FALSE)  </span></span>
<span><span class="co">#&gt; ts.thermo.depth : function (wtr, Smin = 0.1, na.rm = FALSE, ...)  </span></span>
<span><span class="co">#&gt; ts.uStar : function (wtr, wnd, wnd.height, bathy, seasonal = TRUE)  </span></span>
<span><span class="co">#&gt; ts.wedderburn.number : function (wtr, wnd, wnd.height, bathy, Ao, seasonal = TRUE)  </span></span>
<span><span class="co">#&gt; uStar : function (wndSpeed, wndHeight, averageEpiDense)  </span></span>
<span><span class="co">#&gt; water.density : function (wtr, sal = wtr * 0)  </span></span>
<span><span class="co">#&gt; wedderburn.number : function (delta_rho, metaT, uSt, Ao, AvHyp_rho)  </span></span>
<span><span class="co">#&gt; whole.lake.temperature : function (wtr, depths, bthA, bthD)  </span></span>
<span><span class="co">#&gt; wtr.heat.map : function (wtr, ...)  </span></span>
<span><span class="co">#&gt; wtr.heatmap.layers : function (wtr, ...)  </span></span>
<span><span class="co">#&gt; wtr.layer : function (data, depth, measure, thres = 0.1, z0 = 2.5, zmax = 150, nseg = "unconstrained")  </span></span>
<span><span class="co">#&gt; wtr.lineseries : function (wtr, ylab = "Temperature C", ...)  </span></span>
<span><span class="co">#&gt; wtr.plot.temp : function (wtr, ...)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="approx-bathy">approx.bathy<a class="anchor" aria-label="anchor" href="#approx-bathy"></a>
</h3>
<p>Estimate hypsography curve.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Voldev.ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/approx.bathy.html" class="external-link">approx.bathy</a></span><span class="op">(</span>Zmax <span class="op">=</span> <span class="fl">25</span>, Zmean <span class="op">=</span> <span class="fl">12</span>, lkeArea <span class="op">=</span> <span class="fl">39400000</span>, method <span class="op">=</span> <span class="st">"voldev"</span><span class="op">)</span></span>
<span><span class="va">Voldevshallow.ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/approx.bathy.html" class="external-link">approx.bathy</a></span><span class="op">(</span>Zmax <span class="op">=</span> <span class="fl">25</span>, Zmean <span class="op">=</span> <span class="fl">6</span>, lkeArea <span class="op">=</span> <span class="fl">39400000</span>, method <span class="op">=</span> <span class="st">"voldev"</span><span class="op">)</span></span>
<span><span class="va">Cone.ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/approx.bathy.html" class="external-link">approx.bathy</a></span><span class="op">(</span>Zmax <span class="op">=</span> <span class="fl">25</span>, lkeArea <span class="op">=</span> <span class="fl">39400000</span>, method <span class="op">=</span> <span class="st">"cone"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot depth-area curves</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">Cone.ex</span><span class="op">$</span><span class="va">depths</span> <span class="op">~</span> <span class="va">Cone.ex</span><span class="op">$</span><span class="va">Area.at.z</span>, xlab <span class="op">=</span> <span class="st">"Area (m^3)"</span>, ylab <span class="op">=</span> <span class="st">"Depth (m)"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">Voldev.ex</span><span class="op">$</span><span class="va">depths</span> <span class="op">~</span> <span class="va">Voldev.ex</span><span class="op">$</span><span class="va">Area.at.z</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">Voldevshallow.ex</span><span class="op">$</span><span class="va">depths</span> <span class="op">~</span> <span class="va">Voldevshallow.ex</span><span class="op">$</span><span class="va">Area.at.z</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/approx.bathy-1.png" width="512"></p>
</div>
<div class="section level3">
<h3 id="buoyancy-freq">buoyancy.freq<a class="anchor" aria-label="anchor" href="#buoyancy-freq"></a>
</h3>
<p>Calculate buoyancy frequency.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># A vector of water temperatures</span></span>
<span><span class="va">wtr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">22.51</span>, <span class="fl">22.42</span>, <span class="fl">22.4</span>, <span class="fl">22.4</span>, <span class="fl">22.4</span>, <span class="fl">22.36</span>, <span class="fl">22.3</span>, <span class="fl">22.21</span>, <span class="fl">22.11</span>, <span class="fl">21.23</span>, <span class="fl">16.42</span>, </span>
<span>    <span class="fl">15.15</span>, <span class="fl">14.24</span>, <span class="fl">13.35</span>, <span class="fl">10.94</span>, <span class="fl">10.43</span>, <span class="fl">10.36</span>, <span class="fl">9.94</span>, <span class="fl">9.45</span>, <span class="fl">9.1</span>, <span class="fl">8.91</span>, <span class="fl">8.58</span>, <span class="fl">8.43</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#A vector defining the depths</span></span>
<span><span class="va">depths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">1.5</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">11</span>, <span class="fl">12</span>, <span class="fl">13</span>, <span class="fl">14</span>, <span class="fl">15</span>, <span class="fl">16</span>, </span>
<span>    <span class="fl">17</span>, <span class="fl">18</span>, <span class="fl">19</span>, <span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="va">b.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/buoyancy.freq.html" class="external-link">buoyancy.freq</a></span><span class="op">(</span><span class="va">wtr</span>, <span class="va">depths</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">b.f</span>, <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">b.f</span>, <span class="st">'depths'</span><span class="op">)</span>, type<span class="op">=</span><span class="st">'b'</span></span>
<span>     , ylab<span class="op">=</span><span class="st">'Depth'</span>, xlab<span class="op">=</span><span class="st">'Buoyancy Frequency'</span></span>
<span>     , ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">depths</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">depths</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/buoyancy.freq-1.png" width="512"></p>
</div>
<div class="section level3">
<h3 id="center-buoyancy">center.buoyancy<a class="anchor" aria-label="anchor" href="#center-buoyancy"></a>
</h3>
<p>Calculate the center of buoyancy.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># A vector of water temperatures</span></span>
<span><span class="va">wtr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">22.51</span>, <span class="fl">22.42</span>, <span class="fl">22.4</span>, <span class="fl">22.4</span>, <span class="fl">22.4</span>, <span class="fl">22.36</span>, <span class="fl">22.3</span>, <span class="fl">22.21</span>, <span class="fl">22.11</span>, <span class="fl">21.23</span>, <span class="fl">16.42</span>, </span>
<span>    <span class="fl">15.15</span>, <span class="fl">14.24</span>, <span class="fl">13.35</span>, <span class="fl">10.94</span>, <span class="fl">10.43</span>, <span class="fl">10.36</span>, <span class="fl">9.94</span>, <span class="fl">9.45</span>, <span class="fl">9.1</span>, <span class="fl">8.91</span>, <span class="fl">8.58</span>, <span class="fl">8.43</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#A vector defining the depths</span></span>
<span><span class="va">depths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">1.5</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">11</span>, <span class="fl">12</span>, <span class="fl">13</span>, <span class="fl">14</span>, <span class="fl">15</span>, <span class="fl">16</span>, </span>
<span>    <span class="fl">17</span>, <span class="fl">18</span>, <span class="fl">19</span>, <span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="va">c.b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/center.buoyancy.html" class="external-link">center.buoyancy</a></span><span class="op">(</span><span class="va">wtr</span>, <span class="va">depths</span><span class="op">)</span></span>
<span><span class="va">c.b</span></span>
<span><span class="co">#&gt; [1] 8.885765</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="epi-temperature">epi.temperature<a class="anchor" aria-label="anchor" href="#epi-temperature"></a>
</h3>
<p>Get volumetrically averaged epilimnion temp.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## No Example</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="hypo-temperature">hypo.temperature<a class="anchor" aria-label="anchor" href="#hypo-temperature"></a>
</h3>
<p>Get volumetrically averaged hypolimnion temp.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">##No Example</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="internal-energy">internal.energy<a class="anchor" aria-label="anchor" href="#internal-energy"></a>
</h3>
<p>Internal energy function (Joules).</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bthA</span>   <span class="op">&lt;-</span>   <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>,<span class="fl">900</span>,<span class="fl">864</span>,<span class="fl">820</span>,<span class="fl">200</span>,<span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">bthD</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2.3</span>,<span class="fl">2.5</span>,<span class="fl">4.2</span>,<span class="fl">5.8</span>,<span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="va">wtr</span>    <span class="op">&lt;-</span>   <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">28</span>,<span class="fl">27</span>,<span class="fl">26.4</span>,<span class="fl">26</span>,<span class="fl">25.4</span>,<span class="fl">24</span>,<span class="fl">23.3</span><span class="op">)</span></span>
<span><span class="va">depths</span> <span class="op">&lt;-</span>   <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">'Internal Energy for input is: '</span><span class="op">)</span></span>
<span><span class="co">#&gt; Internal Energy for input is:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/internal.energy.html" class="external-link">internal.energy</a></span><span class="op">(</span><span class="va">wtr</span>, <span class="va">depths</span>, <span class="va">bthA</span>, <span class="va">bthD</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; 520456577</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="lake-number">lake.number<a class="anchor" aria-label="anchor" href="#lake-number"></a>
</h3>
<p>Calculate Lake Number.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bthA</span>    <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>,<span class="fl">900</span>,<span class="fl">864</span>,<span class="fl">820</span>,<span class="fl">200</span>,<span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">bthD</span>    <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2.3</span>,<span class="fl">2.5</span>,<span class="fl">4.2</span>,<span class="fl">5.8</span>,<span class="fl">7</span><span class="op">)</span></span>
<span><span class="va">uStar</span>   <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.0032</span>,<span class="fl">0.0024</span><span class="op">)</span></span>
<span><span class="va">St</span>    <span class="op">&lt;-</span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">140</span>,<span class="fl">153</span><span class="op">)</span></span>
<span><span class="va">metaT</span>   <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.34</span>,<span class="fl">1.54</span><span class="op">)</span></span>
<span><span class="va">metaB</span>   <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4.32</span>,<span class="fl">4.33</span><span class="op">)</span></span>
<span><span class="va">averageHypoDense</span>    <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">999.3</span>,<span class="fl">999.32</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">'Lake Number for input vector is: '</span><span class="op">)</span></span>
<span><span class="co">#&gt; Lake Number for input vector is:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/lake.number.html" class="external-link">lake.number</a></span><span class="op">(</span> <span class="va">bthA</span>, <span class="va">bthD</span>, <span class="va">uStar</span>, <span class="va">St</span>, <span class="va">metaT</span>, <span class="va">metaB</span>, <span class="va">averageHypoDense</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt; 472.136 951.3076</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="layer-density">layer.density<a class="anchor" aria-label="anchor" href="#layer-density"></a>
</h3>
<p>Returns the average density of a layer between two depths.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">top</span>     <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span><span class="va">bottom</span>  <span class="op">&lt;-</span> <span class="fl">6</span></span>
<span><span class="va">wtr</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25.2</span>,<span class="fl">25.1</span>,<span class="fl">24.1</span>,<span class="fl">22.0</span>,<span class="fl">19.8</span>,<span class="fl">15.3</span>,<span class="fl">12.0</span>,<span class="fl">11.1</span><span class="op">)</span></span>
<span><span class="va">depths</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">7</span><span class="op">)</span> </span>
<span><span class="va">bthA</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10000</span>,<span class="fl">8900</span>,<span class="fl">5000</span>,<span class="fl">3500</span>,<span class="fl">2000</span>,<span class="fl">1000</span>,<span class="fl">300</span>,<span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">bthD</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">7</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/layer.density.html" class="external-link">layer.density</a></span><span class="op">(</span><span class="va">top</span>,<span class="va">bottom</span>,<span class="va">wtr</span>,<span class="va">depths</span>,<span class="va">bthA</span>,<span class="va">bthD</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 997.9737</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="layer-temperature">layer.temperature<a class="anchor" aria-label="anchor" href="#layer-temperature"></a>
</h3>
<p>Returns the average temperature of a layer between two depths.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Supply input data</span></span>
<span><span class="va">top</span>     <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span><span class="va">bottom</span>  <span class="op">&lt;-</span> <span class="fl">6</span></span>
<span><span class="va">wtr</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25.2</span>,<span class="fl">25.1</span>,<span class="fl">24.1</span>,<span class="fl">22.0</span>,<span class="fl">19.8</span>,<span class="fl">15.3</span>,<span class="fl">12.0</span>,<span class="fl">11.1</span><span class="op">)</span></span>
<span><span class="va">depths</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">7</span><span class="op">)</span> </span>
<span><span class="va">bthA</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10000</span>,<span class="fl">8900</span>,<span class="fl">5000</span>,<span class="fl">3500</span>,<span class="fl">2000</span>,<span class="fl">1000</span>,<span class="fl">300</span>,<span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">bthD</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Return the average temperature of the water column between 2 and 6 meters.</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/layer.temperature.html" class="external-link">layer.temperature</a></span><span class="op">(</span><span class="va">top</span>,<span class="va">bottom</span>,<span class="va">wtr</span>,<span class="va">depths</span>,<span class="va">bthA</span>,<span class="va">bthD</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 21.02678</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="meta-depths">meta.depths<a class="anchor" aria-label="anchor" href="#meta-depths"></a>
</h3>
<p>Calculate the Top and Bottom Depths of the Metalimnion.</p>
<p>To get the thickness of Metalimnion subtract the two values.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wtr</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">22.51</span>, <span class="fl">22.42</span>, <span class="fl">22.4</span>, <span class="fl">22.4</span>, <span class="fl">22.4</span>, <span class="fl">22.36</span>, <span class="fl">22.3</span>, <span class="fl">22.21</span>, <span class="fl">22.11</span>, <span class="fl">21.23</span>, <span class="fl">16.42</span>, </span>
<span><span class="fl">15.15</span>, <span class="fl">14.24</span>, <span class="fl">13.35</span>, <span class="fl">10.94</span>, <span class="fl">10.43</span>, <span class="fl">10.36</span>, <span class="fl">9.94</span>, <span class="fl">9.45</span>, <span class="fl">9.1</span>, <span class="fl">8.91</span>, <span class="fl">8.58</span>, <span class="fl">8.43</span><span class="op">)</span></span>
<span></span>
<span><span class="va">depths</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">1.5</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">11</span>, <span class="fl">12</span>, <span class="fl">13</span>, <span class="fl">14</span>, <span class="fl">15</span>, <span class="fl">16</span>, </span>
<span>             <span class="fl">17</span>, <span class="fl">18</span>, <span class="fl">19</span>, <span class="fl">20</span><span class="op">)</span></span>
<span>             </span>
<span><span class="va">m.d</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/meta.depths.html" class="external-link">meta.depths</a></span><span class="op">(</span><span class="va">wtr</span>, <span class="va">depths</span>, slope<span class="op">=</span><span class="fl">0.1</span>, seasonal<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">'The top depth of the metalimnion is:'</span>, <span class="va">m.d</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; The top depth of the metalimnion is: 5.943727</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">'The bottom depth of the metalimnion is:'</span>, <span class="va">m.d</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; The bottom depth of the metalimnion is: 11.0914</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"The thickness of the metalimnion is: "</span>, <span class="va">m.d</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">-</span> <span class="va">m.d</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; The thickness of the metalimnion is:  5.147674</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="schmidt-stability">schmidt.stability<a class="anchor" aria-label="anchor" href="#schmidt-stability"></a>
</h3>
<p>Calculate the Schmidt stability.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bthA</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>,<span class="fl">900</span>,<span class="fl">864</span>,<span class="fl">820</span>,<span class="fl">200</span>,<span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">bthD</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2.3</span>,<span class="fl">2.5</span>,<span class="fl">4.2</span>,<span class="fl">5.8</span>,<span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="va">wtr</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">28</span>,<span class="fl">27</span>,<span class="fl">26.4</span>,<span class="fl">26</span>,<span class="fl">25.4</span>,<span class="fl">24</span>,<span class="fl">23.3</span><span class="op">)</span></span>
<span><span class="va">depths</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">'Schmidt stability for input is: '</span><span class="op">)</span></span>
<span><span class="co">#&gt; Schmidt stability for input is:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/schmidt.stability.html" class="external-link">schmidt.stability</a></span><span class="op">(</span><span class="va">wtr</span>, <span class="va">depths</span>, <span class="va">bthA</span>, <span class="va">bthD</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; 23.76961</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="thermo-depth">thermo.depth<a class="anchor" aria-label="anchor" href="#thermo-depth"></a>
</h3>
<p>Calculate depth of the thermocline from a temperature profile</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># A vector of water temperatures</span></span>
<span><span class="va">wtr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">22.51</span>, <span class="fl">22.42</span>, <span class="fl">22.4</span>, <span class="fl">22.4</span>, <span class="fl">22.4</span>, <span class="fl">22.36</span>, <span class="fl">22.3</span>, <span class="fl">22.21</span>, <span class="fl">22.11</span>, <span class="fl">21.23</span>, <span class="fl">16.42</span>, </span>
<span>        <span class="fl">15.15</span>, <span class="fl">14.24</span>, <span class="fl">13.35</span>, <span class="fl">10.94</span>, <span class="fl">10.43</span>, <span class="fl">10.36</span>, <span class="fl">9.94</span>, <span class="fl">9.45</span>, <span class="fl">9.1</span>, <span class="fl">8.91</span>, <span class="fl">8.58</span>, <span class="fl">8.43</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#A vector defining the depths</span></span>
<span><span class="va">depths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">1.5</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">11</span>, <span class="fl">12</span>, <span class="fl">13</span>, <span class="fl">14</span>, <span class="fl">15</span>, <span class="fl">16</span>, </span>
<span>   <span class="fl">17</span>, <span class="fl">18</span>, <span class="fl">19</span>, <span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="va">t.d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/thermo.depth.html" class="external-link">thermo.depth</a></span><span class="op">(</span><span class="va">wtr</span>, <span class="va">depths</span>, seasonal<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">'The thermocline depth is:'</span>, <span class="va">t.d</span><span class="op">)</span></span>
<span><span class="co">#&gt; The thermocline depth is: 7.502121</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="ts-buoyancy-freq">ts.buoyancy.freq<a class="anchor" aria-label="anchor" href="#ts-buoyancy-freq"></a>
</h3>
<p>Calculate the buoyancy (Brunt-Vaisala) frequency for a temperature profile.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Get the path for the package example file included</span></span>
<span><span class="va">wtr.path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span></span>
<span>                        , <span class="st">'Sparkling.daily.wtr'</span></span>
<span>                        , package<span class="op">=</span><span class="st">"rLakeAnalyzer"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Load data for example lake, Sparkilng Lake, Wisconsin.</span></span>
<span><span class="va">sp.wtr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/load.ts.html" class="external-link">load.ts</a></span><span class="op">(</span><span class="va">wtr.path</span><span class="op">)</span></span>
<span></span>
<span><span class="va">N2</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.buoyancy.freq.html" class="external-link">ts.buoyancy.freq</a></span><span class="op">(</span><span class="va">sp.wtr</span>, seasonal<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">SN2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.buoyancy.freq.html" class="external-link">ts.buoyancy.freq</a></span><span class="op">(</span><span class="va">sp.wtr</span>, seasonal<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">N2</span>, type<span class="op">=</span><span class="st">'l'</span>, ylab<span class="op">=</span><span class="st">'Buoyancy Frequency'</span>, xlab<span class="op">=</span><span class="st">'Date'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">SN2</span>, col<span class="op">=</span><span class="st">'red'</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/ts.buoyancy.freq-1.png" width="512"></p>
<div class="section level4">
<h4 id="ts-buoyancy-freq-lakemonitor">ts.buoyancy.freq, LakeMonitoR<a class="anchor" aria-label="anchor" href="#ts-buoyancy-freq-lakemonitor"></a>
</h4>
<p>Using LakeMonitoR data.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leppott/LakeMonitoR" class="external-link">LakeMonitoR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert Data for use with rLakeAnalyzer</span></span>
<span></span>
<span><span class="co"># Data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">laketemp_ddm</span></span>
<span></span>
<span><span class="co"># Columns, date listed first</span></span>
<span><span class="va">col_depth</span> <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"Measurement"</span><span class="op">)</span></span>
<span><span class="va">col_rLA</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"datetime"</span>, <span class="st">"wtr"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run function</span></span>
<span><span class="va">df_rLA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/export_rLakeAnalyzer.html">export_rLakeAnalyzer</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">col_depth</span>, <span class="va">col_data</span>, <span class="va">col_rLA</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate</span></span>
<span><span class="va">N2</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.buoyancy.freq.html" class="external-link">ts.buoyancy.freq</a></span><span class="op">(</span><span class="va">df_rLA</span>, seasonal<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">SN2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.buoyancy.freq.html" class="external-link">ts.buoyancy.freq</a></span><span class="op">(</span><span class="va">df_rLA</span>, seasonal<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">N2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">datetime</th>
<th align="right">n2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2017-01-19</td>
<td align="right">5.38e-05</td>
</tr>
<tr class="even">
<td align="left">2017-01-20</td>
<td align="right">5.33e-05</td>
</tr>
<tr class="odd">
<td align="left">2017-01-21</td>
<td align="right">5.38e-05</td>
</tr>
<tr class="even">
<td align="left">2017-01-22</td>
<td align="right">5.68e-05</td>
</tr>
<tr class="odd">
<td align="left">2017-01-23</td>
<td align="right">6.34e-05</td>
</tr>
<tr class="even">
<td align="left">2017-01-24</td>
<td align="right">6.77e-05</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">SN2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">datetime</th>
<th align="right">n2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2017-01-19</td>
<td align="right">5.38e-05</td>
</tr>
<tr class="even">
<td align="left">2017-01-20</td>
<td align="right">5.33e-05</td>
</tr>
<tr class="odd">
<td align="left">2017-01-21</td>
<td align="right">5.38e-05</td>
</tr>
<tr class="even">
<td align="left">2017-01-22</td>
<td align="right">5.68e-05</td>
</tr>
<tr class="odd">
<td align="left">2017-01-23</td>
<td align="right">6.34e-05</td>
</tr>
<tr class="even">
<td align="left">2017-01-24</td>
<td align="right">6.77e-05</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">N2</span>, type<span class="op">=</span><span class="st">'l'</span>, ylab<span class="op">=</span><span class="st">'Buoyancy Frequency'</span>, xlab<span class="op">=</span><span class="st">'Date'</span>, lwd <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">SN2</span>, col<span class="op">=</span><span class="st">'red'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span></span>
<span>       , legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"N2"</span>, <span class="st">"SN2"</span><span class="op">)</span></span>
<span>       , col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"red"</span><span class="op">)</span></span>
<span>       , lwd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/unnamed-chunk-3-1.png" width="512"></p>
</div>
</div>
<div class="section level3">
<h3 id="ts-center-buoyancy">ts.center.buoyancy<a class="anchor" aria-label="anchor" href="#ts-center-buoyancy"></a>
</h3>
<p>Calculates the center of buoyancy for multiple temperature profiles.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Get the path for the package example file included</span></span>
<span><span class="va">wtr.path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span>, <span class="st">'Sparkling.daily.wtr'</span>, package<span class="op">=</span><span class="st">"rLakeAnalyzer"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Load data for example lake, Sparkilng Lake, Wisconsin.</span></span>
<span><span class="va">sp.wtr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/load.ts.html" class="external-link">load.ts</a></span><span class="op">(</span><span class="va">wtr.path</span><span class="op">)</span></span>
<span> </span>
<span><span class="co">#calculate and plot the thermocline depth</span></span>
<span><span class="va">t.d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.thermo.depth.html" class="external-link">ts.thermo.depth</a></span><span class="op">(</span><span class="va">sp.wtr</span><span class="op">)</span></span>
<span></span>
<span><span class="va">center.N2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.center.buoyancy.html" class="external-link">ts.center.buoyancy</a></span><span class="op">(</span><span class="va">sp.wtr</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">center.N2</span>, type<span class="op">=</span><span class="st">'l'</span>, ylab<span class="op">=</span><span class="st">'Depth (m)'</span>, xlab<span class="op">=</span><span class="st">'Date'</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">19</span>,<span class="fl">0</span><span class="op">)</span>, lwd <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">t.d</span>, type<span class="op">=</span><span class="st">'l'</span>, col<span class="op">=</span><span class="st">'red'</span>, lwd <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">t.d</span><span class="op">[</span><span class="fl">3</span>,<span class="fl">1</span><span class="op">]</span>, y <span class="op">=</span> <span class="fl">.25</span>,</span>
<span>   <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'center of buoyancy'</span>,<span class="st">'thermocline depth'</span><span class="op">)</span>,</span>
<span>   lty<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>   lwd<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>,<span class="fl">1.5</span><span class="op">)</span>,col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>,<span class="st">"red"</span><span class="op">)</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/ts.center.buoyancy-1.png" width="512"></p>
<div class="section level4">
<h4 id="ts-center-buoyancy-lakemonitor">ts.center.buoyancy, LakeMonitoR<a class="anchor" aria-label="anchor" href="#ts-center-buoyancy-lakemonitor"></a>
</h4>
<p>Using LakeMonitoR data.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leppott/LakeMonitoR" class="external-link">LakeMonitoR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert Data for use with rLakeAnalyzer</span></span>
<span></span>
<span><span class="co"># Data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">laketemp_ddm</span></span>
<span></span>
<span><span class="co"># Columns, date listed first</span></span>
<span><span class="va">col_depth</span> <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"Measurement"</span><span class="op">)</span></span>
<span><span class="va">col_rLA</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"datetime"</span>, <span class="st">"wtr"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run function</span></span>
<span><span class="va">df_rLA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/export_rLakeAnalyzer.html">export_rLakeAnalyzer</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">col_depth</span>, <span class="va">col_data</span>, <span class="va">col_rLA</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate</span></span>
<span><span class="va">t.d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.thermo.depth.html" class="external-link">ts.thermo.depth</a></span><span class="op">(</span><span class="va">df_rLA</span><span class="op">)</span></span>
<span></span>
<span><span class="va">center.N2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.center.buoyancy.html" class="external-link">ts.center.buoyancy</a></span><span class="op">(</span><span class="va">df_rLA</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">center.N2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">datetime</th>
<th align="right">cent.n2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2017-01-19</td>
<td align="right">14.53531</td>
</tr>
<tr class="even">
<td align="left">2017-01-20</td>
<td align="right">14.52814</td>
</tr>
<tr class="odd">
<td align="left">2017-01-21</td>
<td align="right">14.56947</td>
</tr>
<tr class="even">
<td align="left">2017-01-22</td>
<td align="right">14.55145</td>
</tr>
<tr class="odd">
<td align="left">2017-01-23</td>
<td align="right">14.43304</td>
</tr>
<tr class="even">
<td align="left">2017-01-24</td>
<td align="right">14.26047</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">plot_cb_y_max</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">center.N2</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                             , <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">t.d</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                             , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">center.N2</span></span>
<span>     , type <span class="op">=</span> <span class="st">'l'</span></span>
<span>     , ylab <span class="op">=</span> <span class="st">'Depth (m)'</span></span>
<span>     , xlab <span class="op">=</span> <span class="st">'Date'</span></span>
<span>     , ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">plot_cb_y_max</span>, <span class="fl">0</span><span class="op">)</span></span>
<span>     , lwd <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">t.d</span>, type <span class="op">=</span> <span class="st">'l'</span>, col <span class="op">=</span> <span class="st">'red'</span>, lwd <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topright"</span>,</span>
<span>   <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'center of buoyancy'</span>,<span class="st">'thermocline depth'</span><span class="op">)</span>,</span>
<span>   lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>   lwd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">1.5</span><span class="op">)</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>,<span class="st">"red"</span><span class="op">)</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/unnamed-chunk-4-1.png" width="512"></p>
</div>
</div>
<div class="section level3">
<h3 id="ts-internal-energy">ts.internal.energy<a class="anchor" aria-label="anchor" href="#ts-internal-energy"></a>
</h3>
<p>Calculate physical indices for a timeseries.</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># No Example</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="ts-lake-number">ts.lake.number<a class="anchor" aria-label="anchor" href="#ts-lake-number"></a>
</h3>
<p>Calculate physical indices for a timeseries.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># No Example</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="ts-layer-temperature">ts.layer.temperature<a class="anchor" aria-label="anchor" href="#ts-layer-temperature"></a>
</h3>
<p>Calculate volume-weighted average water temperature across a range of depths for a timeseries.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Get the path for the package example file included</span></span>
<span><span class="va">wtr.path</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span>, <span class="st">'Sparkling.daily.wtr'</span>, package<span class="op">=</span><span class="st">"rLakeAnalyzer"</span><span class="op">)</span></span>
<span><span class="va">bathy.path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span>, <span class="st">'Sparkling.bth'</span>, package<span class="op">=</span><span class="st">"rLakeAnalyzer"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Load data for example lake, Sparkilng lake, in Wisconsin.</span></span>
<span><span class="va">sp.wtr</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/load.ts.html" class="external-link">load.ts</a></span><span class="op">(</span><span class="va">wtr.path</span><span class="op">)</span></span>
<span><span class="va">sp.bathy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/load.bathy.html" class="external-link">load.bathy</a></span><span class="op">(</span><span class="va">bathy.path</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">l.t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.layer.temperature.html" class="external-link">ts.layer.temperature</a></span><span class="op">(</span><span class="va">sp.wtr</span>, <span class="fl">0</span>, <span class="fl">18</span>, <span class="va">sp.bathy</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">l.t</span><span class="op">$</span><span class="va">datetime</span>, <span class="va">l.t</span><span class="op">$</span><span class="va">layer.temp</span>, type<span class="op">=</span><span class="st">'l'</span>, </span>
<span>      ylab<span class="op">=</span><span class="st">'Volumetrically averaged lake temperature'</span>, xlab<span class="op">=</span><span class="st">'Date'</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/ts.layer.temperature-1.png" width="512"></p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># ggplot</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">l.t</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">datetime</span>, y <span class="op">=</span> <span class="va">layer.temp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Date"</span>, y <span class="op">=</span> <span class="st">"Volumetrically averaged lake temperature"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/ts.layer.temperature-2.png" width="512"></p>
</div>
<div class="section level3">
<h3 id="ts-meta-depths">ts.meta.depths<a class="anchor" aria-label="anchor" href="#ts-meta-depths"></a>
</h3>
<p>Calculate physical indices for a timeseries.</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Get the path for the package example file included</span></span>
<span><span class="va">exampleFilePath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span></span>
<span>                               , <span class="st">'Sparkling.daily.wtr'</span></span>
<span>                               , package<span class="op">=</span><span class="st">"rLakeAnalyzer"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Load</span></span>
<span><span class="va">sparkling.temp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/load.ts.html" class="external-link">load.ts</a></span><span class="op">(</span><span class="va">exampleFilePath</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate and plot the metalimnion depths</span></span>
<span><span class="va">m.d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.meta.depths.html" class="external-link">ts.meta.depths</a></span><span class="op">(</span><span class="va">sparkling.temp</span><span class="op">)</span></span>
<span><span class="va">m.d</span><span class="op">$</span><span class="va">thickness</span> <span class="op">&lt;-</span> <span class="va">m.d</span><span class="op">$</span><span class="va">bottom</span> <span class="op">-</span> <span class="va">m.d</span><span class="op">$</span><span class="va">top</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">m.d</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">datetime</th>
<th align="right">top</th>
<th align="right">bottom</th>
<th align="right">thickness</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2009-05-02 10:00:00</td>
<td align="right">7.543954</td>
<td align="right">7.543954</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">2009-05-03 10:00:00</td>
<td align="right">7.488136</td>
<td align="right">7.488136</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">2009-05-04 10:00:00</td>
<td align="right">7.259722</td>
<td align="right">7.259722</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">2009-05-05 10:00:00</td>
<td align="right">4.585259</td>
<td align="right">4.585259</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">2009-05-06 10:00:00</td>
<td align="right">6.878275</td>
<td align="right">6.878275</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="left">2009-05-07 10:00:00</td>
<td align="right">2.386936</td>
<td align="right">2.386936</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="left">2009-05-08 10:00:00</td>
<td align="right">2.533029</td>
<td align="right">3.174465</td>
<td align="right">0.6414363</td>
</tr>
<tr class="even">
<td align="left">2009-05-09 10:00:00</td>
<td align="right">3.209228</td>
<td align="right">4.311154</td>
<td align="right">1.1019260</td>
</tr>
<tr class="odd">
<td align="left">2009-05-10 10:00:00</td>
<td align="right">3.534072</td>
<td align="right">4.543989</td>
<td align="right">1.0099178</td>
</tr>
<tr class="even">
<td align="left">2009-05-11 10:00:00</td>
<td align="right">3.769027</td>
<td align="right">4.788044</td>
<td align="right">1.0190164</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">m.d</span><span class="op">$</span><span class="va">datetime</span></span>
<span>     , <span class="va">m.d</span><span class="op">$</span><span class="va">top</span></span>
<span>     , type<span class="op">=</span><span class="st">'l'</span></span>
<span>     , ylab<span class="op">=</span><span class="st">'Meta Depths (m)'</span></span>
<span>     , xlab<span class="op">=</span><span class="st">'Date'</span></span>
<span>     , col<span class="op">=</span><span class="st">'blue'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">m.d</span><span class="op">$</span><span class="va">datetime</span>, <span class="va">m.d</span><span class="op">$</span><span class="va">bottom</span>, col<span class="op">=</span><span class="st">'red'</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/ts.meta.depths-1.png" width="512"></p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># ggplot</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">m.d</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">datetime</span>, y <span class="op">=</span> <span class="va">top</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"blue"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Date"</span>, y <span class="op">=</span> <span class="st">"Meta Depths (m)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">m.d</span></span>
<span>                     , <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">datetime</span>, y <span class="op">=</span> <span class="va">bottom</span><span class="op">)</span></span>
<span>                     , color <span class="op">=</span> <span class="st">"red"</span></span>
<span>                     , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/ts.meta.depths-2.png" width="512"></p>
<div class="section level4">
<h4 id="ts-meta-depths-lakemonitor">ts.meta.depths, LakeMonitoR<a class="anchor" aria-label="anchor" href="#ts-meta-depths-lakemonitor"></a>
</h4>
<p>Using LakeMonitoR data.</p>
<p>Then calculate for epilimnion and hypolimnion temp difference.</p>
<p>Red is hypolimnion and blue is metalimnion.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leppott/LakeMonitoR" class="external-link">LakeMonitoR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:xts':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     first, last</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert Data for use with rLakeAnalyzer</span></span>
<span></span>
<span><span class="co"># Data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">laketemp_ddm</span></span>
<span></span>
<span><span class="co"># Columns, date listed first</span></span>
<span><span class="va">col_depth</span> <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"Measurement"</span><span class="op">)</span></span>
<span><span class="va">col_rLA</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"datetime"</span>, <span class="st">"wtr"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run function</span></span>
<span><span class="va">df_rLA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/export_rLakeAnalyzer.html">export_rLakeAnalyzer</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">col_depth</span>, <span class="va">col_data</span>, <span class="va">col_rLA</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate</span></span>
<span><span class="va">m.d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.meta.depths.html" class="external-link">ts.meta.depths</a></span><span class="op">(</span><span class="va">df_rLA</span><span class="op">)</span></span>
<span><span class="va">m.d</span><span class="op">$</span><span class="va">thickness</span> <span class="op">&lt;-</span> <span class="va">m.d</span><span class="op">$</span><span class="va">bottom</span> <span class="op">-</span> <span class="va">m.d</span><span class="op">$</span><span class="va">top</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">m.d</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">datetime</th>
<th align="right">top</th>
<th align="right">bottom</th>
<th align="right">thickness</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2017-01-19</td>
<td align="right">2.5</td>
<td align="right">2.5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">2017-01-20</td>
<td align="right">2.5</td>
<td align="right">2.5</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">2017-01-21</td>
<td align="right">2.5</td>
<td align="right">2.5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">2017-01-22</td>
<td align="right">2.5</td>
<td align="right">2.5</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">2017-01-23</td>
<td align="right">2.5</td>
<td align="right">2.5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">2017-01-24</td>
<td align="right">2.5</td>
<td align="right">2.5</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">2017-01-25</td>
<td align="right">2.5</td>
<td align="right">2.5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">2017-01-26</td>
<td align="right">2.5</td>
<td align="right">2.5</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">2017-01-27</td>
<td align="right">2.5</td>
<td align="right">2.5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">2017-01-28</td>
<td align="right">2.5</td>
<td align="right">2.5</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># ggplot</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">m.d</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">datetime</span>, y <span class="op">=</span> <span class="va">top</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"blue"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Date"</span>, y <span class="op">=</span> <span class="st">"Meta Depths (m)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">m.d</span></span>
<span>                     , <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">datetime</span>, y <span class="op">=</span> <span class="va">bottom</span><span class="op">)</span></span>
<span>                     , color <span class="op">=</span> <span class="st">"red"</span></span>
<span>                     , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_reverse</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/unnamed-chunk-5-1.png" width="512"></p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="co"># temp diff epi and hypo</span></span>
<span><span class="va">df_merge</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">m.d</span>, by.x <span class="op">=</span> <span class="st">"Date"</span>, by.y <span class="op">=</span> <span class="st">"datetime"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Epi"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Depth"</span><span class="op">]</span> <span class="op">&lt;</span> <span class="va">df_merge</span><span class="op">[</span>,  <span class="st">"top"</span><span class="op">]</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Meta"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Hypo"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Depth"</span><span class="op">]</span> <span class="op">&gt;</span> <span class="va">df_merge</span><span class="op">[</span>,  <span class="st">"bottom"</span><span class="op">]</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Meta"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Epi"</span><span class="op">]</span> <span class="op">+</span> <span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Hypo"</span><span class="op">]</span> <span class="op">==</span> <span class="fl">0</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Layer"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Epi"</span><span class="op">]</span> <span class="op">==</span> <span class="cn">TRUE</span></span>
<span>                            , <span class="st">"Epi"</span></span>
<span>                            , <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Meta"</span><span class="op">]</span> <span class="op">==</span>  <span class="cn">TRUE</span></span>
<span>                                  , <span class="st">"Meta"</span></span>
<span>                                  , <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Hypo"</span><span class="op">]</span> <span class="op">==</span>  <span class="cn">TRUE</span></span>
<span>                                          , <span class="st">"Hypo"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">col_datetime</span> <span class="op">&lt;-</span> <span class="st">"Date"</span></span>
<span><span class="va">col_depth</span> <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_measure</span> <span class="op">&lt;-</span> <span class="st">"Measurement"</span></span>
<span><span class="va">col_layer</span> <span class="op">&lt;-</span> <span class="st">"Layer"</span></span>
<span></span>
<span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Layer"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">df_merge</span><span class="op">[</span>, <span class="st">"Layer"</span><span class="op">]</span></span>
<span>                               , levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Epi"</span>, <span class="st">"Meta"</span>, <span class="st">"Hypo"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">stats_layers</span> <span class="op">&lt;-</span> <span class="va">df_merge</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_datetime</span><span class="op">]</span><span class="op">]</span>, <span class="va">.data</span><span class="op">[[</span><span class="va">col_layer</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>      <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>.groups <span class="op">=</span> <span class="st">"keep"</span></span>
<span>                       <span class="co">#, groupname = col_datetime</span></span>
<span>                       , n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>                       , ndays <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_datetime</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>                       , mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , median <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span></span>
<span>                                                , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , min <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , range <span class="op">=</span> <span class="va">max</span> <span class="op">-</span> <span class="va">min</span></span>
<span>                       , sd <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , var <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">var</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , cv <span class="op">=</span> <span class="va">sd</span><span class="op">/</span><span class="va">mean</span></span>
<span>                       , q01 <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span></span>
<span>                                               , probs <span class="op">=</span> <span class="fl">.01</span></span>
<span>                                               , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , q05 <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span></span>
<span>                                               , probs <span class="op">=</span> <span class="fl">.05</span></span>
<span>                                               , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , q10 <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span></span>
<span>                                               , probs <span class="op">=</span> <span class="fl">.10</span></span>
<span>                                               , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , q25 <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span></span>
<span>                                               , probs <span class="op">=</span> <span class="fl">.25</span></span>
<span>                                               , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , q50 <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span></span>
<span>                                               , probs <span class="op">=</span> <span class="fl">.50</span></span>
<span>                                               , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , q75 <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span></span>
<span>                                               , probs <span class="op">=</span> <span class="fl">.75</span></span>
<span>                                               , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , q90 <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span></span>
<span>                                               , probs <span class="op">=</span> <span class="fl">.90</span></span>
<span>                                               , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , q95 <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span></span>
<span>                                               , probs <span class="op">=</span> <span class="fl">.95</span></span>
<span>                                               , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       , q99 <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">col_measure</span><span class="op">]</span><span class="op">]</span></span>
<span>                                               , probs <span class="op">=</span> <span class="fl">.99</span></span>
<span>                                               , na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                       <span class="co">#, n_below = sum(.data[["below"]], na.rm = TRUE)</span></span>
<span>      <span class="op">)</span></span>
<span></span>
<span><span class="co"># pivot wider, min layer temp</span></span>
<span></span>
<span><span class="va">layers_min</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span><span class="va">stats_layers</span></span>
<span>                          , id_cols <span class="op">=</span> <span class="st">"Date"</span></span>
<span>                          , names_from <span class="op">=</span> <span class="st">"Layer"</span></span>
<span>                          , names_sort <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>                          , values_from <span class="op">=</span> <span class="st">"min"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">layers_min</span><span class="op">[</span>, <span class="st">"diff_EH"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">layers_min</span><span class="op">[</span>, <span class="st">"Hypo"</span><span class="op">]</span> <span class="op">-</span> <span class="va">layers_min</span><span class="op">[</span>, <span class="st">"Epi"</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">layers_min</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 6</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   Date [6]</span></span></span>
<span><span class="co">#&gt;   Date         Epi  Meta  Hypo  `NA` diff_EH</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2017-01-19 0.961    <span style="color: #BB0000;">NA</span>  1.07    <span style="color: #BB0000;">NA</span>   0.110</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2017-01-20 0.967    <span style="color: #BB0000;">NA</span>  1.08    <span style="color: #BB0000;">NA</span>   0.109</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2017-01-21 0.973    <span style="color: #BB0000;">NA</span>  1.08    <span style="color: #BB0000;">NA</span>   0.111</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2017-01-22 0.973    <span style="color: #BB0000;">NA</span>  1.09    <span style="color: #BB0000;">NA</span>   0.117</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2017-01-23 0.969    <span style="color: #BB0000;">NA</span>  1.10    <span style="color: #BB0000;">NA</span>   0.131</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2017-01-24 0.960    <span style="color: #BB0000;">NA</span>  1.10    <span style="color: #BB0000;">NA</span>   0.139</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">layers_min</span><span class="op">$</span><span class="va">diff_EH</span>, type <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/unnamed-chunk-5-2.png" width="512"></p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">layers_min</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Date</span>, y <span class="op">=</span> <span class="va">diff_EH</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Date"</span></span>
<span>                , y <span class="op">=</span> <span class="st">"Temperature Difference (C)"</span></span>
<span>                , title <span class="op">=</span> <span class="st">"Comparison of Epilimnion and Hypolimnion"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span>  </span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/unnamed-chunk-5-3.png" width="512"></p>
</div>
</div>
<div class="section level3">
<h3 id="ts-schmidt-stability">ts.schmidt.stability<a class="anchor" aria-label="anchor" href="#ts-schmidt-stability"></a>
</h3>
<p>Calculate physical indices for a timeseries.</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># No Example</span></span></code></pre></div>
<div class="section level4">
<h4 id="ts-schmidt-stability-lakemonitor">ts.schmidt.stability, LakeMonitor<a class="anchor" aria-label="anchor" href="#ts-schmidt-stability-lakemonitor"></a>
</h4>
<p>Using LakeMonitoR data. Requires bathymetry data.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leppott/LakeMonitoR" class="external-link">LakeMonitoR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert Data for use with rLakeAnalyzer</span></span>
<span></span>
<span><span class="co"># Data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">laketemp_ddm</span></span>
<span><span class="va">bathy</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="co"># Columns, date listed first</span></span>
<span><span class="va">col_depth</span> <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"Measurement"</span><span class="op">)</span></span>
<span><span class="va">col_rLA</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"datetime"</span>, <span class="st">"wtr"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run function</span></span>
<span><span class="va">df_rLA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/export_rLakeAnalyzer.html">export_rLakeAnalyzer</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">col_depth</span>, <span class="va">col_data</span>, <span class="va">col_rLA</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Calculate</span></span>
<span><span class="va">s.s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.schmidt.stability.html" class="external-link">ts.schmidt.stability</a></span><span class="op">(</span><span class="va">df_rLA</span>, <span class="va">bathy</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="ts-thermo-depth">ts.thermo.depth<a class="anchor" aria-label="anchor" href="#ts-thermo-depth"></a>
</h3>
<p>Calculate physical indices for a timeseries.</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Get the path for the package example file included</span></span>
<span><span class="va">exampleFilePath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span>, <span class="st">'Sparkling.daily.wtr'</span>, package<span class="op">=</span><span class="st">"rLakeAnalyzer"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Load</span></span>
<span><span class="va">sparkling.temp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/load.ts.html" class="external-link">load.ts</a></span><span class="op">(</span><span class="va">exampleFilePath</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">#calculate and plot the thermocline depth</span></span>
<span><span class="va">t.d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.thermo.depth.html" class="external-link">ts.thermo.depth</a></span><span class="op">(</span><span class="va">sparkling.temp</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">t.d</span><span class="op">$</span><span class="va">datetime</span>, <span class="va">t.d</span><span class="op">$</span><span class="va">thermo.depth</span>, type<span class="op">=</span><span class="st">'l'</span>, ylab<span class="op">=</span><span class="st">'Thermocline Depth (m)'</span>, xlab<span class="op">=</span><span class="st">'Date'</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/ts.thermo.depth-1.png" width="512"></p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># ggplot</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">t.d</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">datetime</span>, y <span class="op">=</span> <span class="va">thermo.depth</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Date"</span>, y <span class="op">=</span> <span class="st">"Thermocline Depth (m)"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/ts.thermo.depth-2.png" width="512"></p>
<div class="section level4">
<h4 id="ts-thermo-depth-lakemonitor">ts.thermo.depth, LakeMonitoR<a class="anchor" aria-label="anchor" href="#ts-thermo-depth-lakemonitor"></a>
</h4>
<p>Using LakeMonitoR data.</p>
<p>For ggplot reverse the y-axis.</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leppott/LakeMonitoR" class="external-link">LakeMonitoR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert Data for use with rLakeAnalyzer</span></span>
<span></span>
<span><span class="co"># Data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">laketemp_ddm</span></span>
<span></span>
<span><span class="co"># Columns, date listed first</span></span>
<span><span class="va">col_depth</span> <span class="op">&lt;-</span> <span class="st">"Depth"</span></span>
<span><span class="va">col_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Date"</span>, <span class="st">"Measurement"</span><span class="op">)</span></span>
<span><span class="va">col_rLA</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"datetime"</span>, <span class="st">"wtr"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run function</span></span>
<span><span class="va">df_rLA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/export_rLakeAnalyzer.html">export_rLakeAnalyzer</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">col_depth</span>, <span class="va">col_data</span>, <span class="va">col_rLA</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate</span></span>
<span><span class="va">t.d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.thermo.depth.html" class="external-link">ts.thermo.depth</a></span><span class="op">(</span><span class="va">df_rLA</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">t.d</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">datetime</th>
<th align="right">thermo.depth</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2017-01-19</td>
<td align="right">2.5</td>
</tr>
<tr class="even">
<td align="left">2017-01-20</td>
<td align="right">2.5</td>
</tr>
<tr class="odd">
<td align="left">2017-01-21</td>
<td align="right">2.5</td>
</tr>
<tr class="even">
<td align="left">2017-01-22</td>
<td align="right">2.5</td>
</tr>
<tr class="odd">
<td align="left">2017-01-23</td>
<td align="right">2.5</td>
</tr>
<tr class="even">
<td align="left">2017-01-24</td>
<td align="right">2.5</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">t.d</span><span class="op">$</span><span class="va">datetime</span>, <span class="va">t.d</span><span class="op">$</span><span class="va">thermo.depth</span>, type<span class="op">=</span><span class="st">'l'</span>, ylab<span class="op">=</span><span class="st">'Thermocline Depth (m)'</span>, xlab<span class="op">=</span><span class="st">'Date'</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/unnamed-chunk-7-1.png" width="512"></p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># ggplot</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">t.d</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">datetime</span>, y <span class="op">=</span> <span class="va">thermo.depth</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Date"</span>, y <span class="op">=</span> <span class="st">"Thermocline Depth (m)"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_reverse</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/unnamed-chunk-7-2.png" width="512"></p>
</div>
</div>
<div class="section level3">
<h3 id="ts-ustar">ts.uStar<a class="anchor" aria-label="anchor" href="#ts-ustar"></a>
</h3>
<p>Calculate physical indices for a timeseries.</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># No Example</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="ts-wedderburn-number">ts.wedderburn.number<a class="anchor" aria-label="anchor" href="#ts-wedderburn-number"></a>
</h3>
<p>Calculate Wedderburn number for a timeseries.</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Get the path for the package example file included</span></span>
<span><span class="va">wtr.path</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span>, <span class="st">'Sparkling.daily.wtr'</span>, package<span class="op">=</span><span class="st">"rLakeAnalyzer"</span><span class="op">)</span></span>
<span><span class="va">wnd.path</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span>, <span class="st">'Sparkling.daily.wnd'</span>, package<span class="op">=</span><span class="st">"rLakeAnalyzer"</span><span class="op">)</span></span>
<span><span class="va">bathy.path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span>, <span class="st">'Sparkling.bth'</span>, package<span class="op">=</span><span class="st">"rLakeAnalyzer"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Load data for example lake, Sparkilng lake, in Wisconsin.</span></span>
<span><span class="va">sp.wtr</span>   <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/load.ts.html" class="external-link">load.ts</a></span><span class="op">(</span><span class="va">wtr.path</span><span class="op">)</span></span>
<span><span class="va">sp.wnd</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/load.ts.html" class="external-link">load.ts</a></span><span class="op">(</span><span class="va">wnd.path</span><span class="op">)</span></span>
<span><span class="va">sp.bathy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/load.bathy.html" class="external-link">load.bathy</a></span><span class="op">(</span><span class="va">bathy.path</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sp.area</span> <span class="op">=</span> <span class="fl">64e4</span>  <span class="co">#Area of Sparkling lake in m^2</span></span>
<span><span class="va">wnd.height</span> <span class="op">=</span> <span class="fl">2</span>  <span class="co">#Height of Sparkling lake anemometer</span></span>
<span></span>
<span><span class="va">w.n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/ts.wedderburn.number.html" class="external-link">ts.wedderburn.number</a></span><span class="op">(</span><span class="va">sp.wtr</span>, <span class="va">sp.wnd</span>, <span class="va">wnd.height</span>, <span class="va">sp.bathy</span>, <span class="va">sp.area</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">w.n</span><span class="op">$</span><span class="va">datetime</span>, <span class="va">w.n</span><span class="op">$</span><span class="va">wedderburn.number</span>, type<span class="op">=</span><span class="st">'l'</span>, ylab<span class="op">=</span><span class="st">'Wedderburn Number'</span>, xlab<span class="op">=</span><span class="st">'Date'</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/ts.wedderburn.number-1.png" width="512"></p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># ggplot</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">w.n</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">datetime</span>, y <span class="op">=</span> <span class="va">wedderburn.number</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Date"</span>, y <span class="op">=</span> <span class="st">"Wedderburn Number"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/ts.wedderburn.number-2.png" width="512"></p>
</div>
<div class="section level3">
<h3 id="ustar">uStar<a class="anchor" aria-label="anchor" href="#ustar"></a>
</h3>
<p>Calculates the water friction velocity, uStar.</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wndSpeed</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5.1</span>,<span class="fl">6.3</span>,<span class="fl">6.3</span>,<span class="fl">5.2</span>,<span class="fl">7</span>,<span class="fl">7.2</span><span class="op">)</span></span>
<span><span class="va">wndHeight</span>   <span class="op">&lt;-</span>  <span class="fl">2</span></span>
<span><span class="va">averageEpiDense</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14</span>,<span class="fl">15</span>,<span class="fl">14.2</span>,<span class="fl">13</span>,<span class="fl">12</span>,<span class="fl">12</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">'uStar for input vector is: '</span><span class="op">)</span></span>
<span><span class="co">#&gt; uStar for input vector is:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/uStar.html" class="external-link">uStar</a></span><span class="op">(</span><span class="va">wndSpeed</span>,<span class="va">wndHeight</span>,<span class="va">averageEpiDense</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; 0.06850371 0.08175285 0.08402419 0.07248358 0.1015583 0.10446</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="water-density">water.density<a class="anchor" aria-label="anchor" href="#water-density"></a>
</h3>
<p>Estimate Water Density.</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Plot water density for water between 1 and 30 deg C</span></span>
<span><span class="va">dens</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/water.density.html" class="external-link">water.density</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span>, <span class="va">dens</span>, xlab<span class="op">=</span><span class="st">"Temp(deg C)"</span>, ylab<span class="op">=</span><span class="st">"Density(kg/m^3)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/water.density-1.png" width="512"></p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># ggplot</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">30</span>, y <span class="op">=</span> <span class="va">dens</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Temp (deg C)"</span>, y <span class="op">=</span> <span class="st">"Density (kg/m^3)"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="LakeMonitoR_files/figure-html/water.density-2.png" width="512"></p>
</div>
<div class="section level3">
<h3 id="wedderburn-number">wedderburn.number<a class="anchor" aria-label="anchor" href="#wedderburn-number"></a>
</h3>
<p>Calculates Wedderburn Number for a lake.</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">delta_rho</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3.1</span>,<span class="fl">1.5</span><span class="op">)</span></span>
<span><span class="va">metaT</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5.5</span>,<span class="fl">2.4</span><span class="op">)</span></span>
<span><span class="va">uSt</span>       <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.0028</span>,<span class="fl">0.0032</span><span class="op">)</span></span>
<span><span class="va">Ao</span>        <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">80300</span>,<span class="fl">120000</span><span class="op">)</span></span>
<span><span class="va">AvHyp_rho</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">999.31</span>,<span class="fl">999.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/wedderburn.number.html" class="external-link">wedderburn.number</a></span><span class="op">(</span><span class="va">delta_rho</span>, <span class="va">metaT</span>, <span class="va">uSt</span>, <span class="va">Ao</span>, <span class="va">AvHyp_rho</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 367.22053  21.19474</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="whole-lake-temperature">whole.lake.temperature<a class="anchor" aria-label="anchor" href="#whole-lake-temperature"></a>
</h3>
<p>Get volumetrically averaged whole lake temperature.</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># No Example</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="wtr-layer">wtr.layer<a class="anchor" aria-label="anchor" href="#wtr-layer"></a>
</h3>
<p>Exploration of lake water column layers.</p>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"latesummer"</span><span class="op">)</span></span>
<span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/wtr.layer.html" class="external-link">wtr.layer</a></span><span class="op">(</span>depth<span class="op">=</span><span class="va">latesummer</span><span class="op">$</span><span class="va">depth</span>, measure <span class="op">=</span> <span class="va">latesummer</span><span class="op">$</span><span class="va">temper</span><span class="op">)</span></span>
<span><span class="va">df1</span><span class="op">$</span><span class="va">mld</span></span>
<span><span class="co">#&gt; [1] 7.0565</span></span>
<span><span class="va">df1</span><span class="op">$</span><span class="va">segments</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;   segment_depth segment_measure</span></span>
<span><span class="co">#&gt; 1        2.5980        17.94060</span></span>
<span><span class="co">#&gt; 2        7.0565        17.38405</span></span>
<span><span class="co">#&gt; 3       25.7240         5.51445</span></span>
<span><span class="co">#&gt; 4       98.1390         4.46375</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/rLakeAnalyzer/man/wtr.layer.html" class="external-link">wtr.layer</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">latesummer</span>, depth<span class="op">=</span><span class="va">depth</span>, measure <span class="op">=</span> <span class="va">temper</span>, nseg<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;   min_depth nseg    mld    cline</span></span>
<span><span class="co">#&gt; 1       2.5    4 7.0565 16.39025</span></span>
<span><span class="co">#&gt;                                                                     segments</span></span>
<span><span class="co">#&gt; 1 2.59800, 7.05650, 25.72400, 98.13900, 17.94060, 17.38405, 5.51445, 4.46375</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Erik W Leppo.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
