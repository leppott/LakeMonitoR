---
title: "Notebook, baytrendsmap"
output: html_notebook
---

# Package

Package related code.

## Vignette
```{r, eval=FALSE}
# generate Vignette
library(baytrendsmap)
library(devtools)
devtools::build_vignettes()
```
devtools::build() more useful and build_vignettes()

## Create Package
Use the code below to create the package.  Assumes you are in the development package directory

```{r, eval=FALSE}
# NEWS
# Render then Copy NEWS so picked up in help
rmarkdown::render("NEWS.rmd", "all")
file.copy("NEWS.md", "NEWS", overwrite = TRUE)
file.remove("NEWS.html")
#file.remove("NEWS.md")
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Library Name
myPkg <- "LakeMonitoR"
# Load Library
library(devtools)
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Create Package
# create(myLibrary)
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# files to library folder
# file.copy("metric.values.R","./Library/MMIcalc/R/metric.values.R",overwrite=TRUE)
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Document, Install, and Reload Library
## Generate Documentation
setwd(paste0("./", myPkg))
devtools::document()
## Install New Package (locally)
setwd("..") # return to root directory first
devtools::install(myPkg, quick=FALSE, reload=TRUE, build_vignettes = TRUE)

## Reload library
library(myPkg, character.only = TRUE)
# change wd back to package
setwd(paste0("./", myPkg))
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
```

After creating the package reload it after restarting R within RStudio (Control+Shift+F10).

```{r, eval=FALSE}
# Restart R within RStudio:  Ctrl + Shift + F10
myPkg <- "LakeMonitoR"
library(myPkg, character.only = TRUE)
help(package=(myPkg))

#?metric.scores 
citation(myPkg)

# Create PkgDown Website
usethis::use_pkgdown()
pkgdown::build_site()

```

### Data Documentation
Use promptData to get data.r listing for columns.  Short cuts creating documentation.

```{r DocData}
promptData(laketemp)
```


## Error Checking
Need to use testthat but not to that stage yet.
```{r, eval=FALSE}
# Check for errors (or press Cmd + Shift + E in RStudio)
#http://r-pkgs.had.co.nz/check.html
devtools::check()
```


